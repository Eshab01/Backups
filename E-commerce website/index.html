<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuxeMarket | Premium Shopping Experience</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.12.0/cdn.min.js" defer></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideIn {
            from { transform: translateX(30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .fadeIn { animation: fadeIn 0.5s ease forwards; }
        .slideIn { animation: slideIn 0.4s ease forwards; }
        .pulse { animation: pulse 2s infinite; }
        .product-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .product-card:hover {
            transform: translateY(-8px) scale(1.01);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        .loading-spinner {
            border-top-color: #6366f1;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .cart-item-enter {
            animation: cartItemEnter 0.3s forwards;
        }
        @keyframes cartItemEnter {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .tab-highlight {
            transition: all 0.3s ease;
        }
        .color-swatch {
            position: relative;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .color-swatch:hover {
            transform: scale(1.1);
        }
        .color-swatch.selected::after {
            content: "âœ“";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);
        }
        .size-btn {
            transition: all 0.2s;
        }
        .size-btn:hover:not(.active) {
            background-color: #f3f4f6;
        }
        .size-btn.active {
            background-color: #4f46e5;
            color: white;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col" x-data="{
    cartOpen: false,
    isSearchOpen: false,
    isMenuOpen: false,
    isFiltersOpen: false,
    searchQuery: '',
    currentUser: null,
    showLoginModal: false,
    showQuickview: false,
    quickviewProduct: null,
    activeCategory: 'all',
    sortOption: 'featured',
    maxPrice: 500,
    priceFilter: 500,
    showNotification: false,
    notificationMessage: '',
    wishlist: [],
    recentlyViewed: [],
    cart: [],
    products: [
        {id: 1, name: 'Premium Cotton T-Shirt', price: 29.99, originalPrice: 39.99, category: 'shirts', tags: ['casual', 'summer'], colors: ['slate', 'indigo', 'emerald'], sizes: ['S', 'M', 'L', 'XL'], rating: 4.5, reviews: 128, stock: 25, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: true, bestseller: true, description: 'High-quality cotton t-shirt perfect for everyday wear. Breathable fabric with a comfortable fit.'},
        {id: 2, name: 'Designer Jeans', price: 89.99, originalPrice: 99.99, category: 'pants', tags: ['casual', 'denim'], colors: ['blue', 'black', 'gray'], sizes: ['28', '30', '32', '34', '36'], rating: 4.2, reviews: 94, stock: 12, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: true, bestseller: false, description: 'Premium denim jeans with a modern cut. Durable and stylish for all occasions.'},
        {id: 3, name: 'Leather Oxford Shoes', price: 129.99, originalPrice: 159.99, category: 'shoes', tags: ['formal', 'office'], colors: ['brown', 'black'], sizes: ['40', '41', '42', '43', '44', '45'], rating: 4.8, reviews: 56, stock: 8, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: false, bestseller: true, description: 'Elegant leather oxford shoes handcrafted with attention to detail. Perfect for formal events and business meetings.'},
        {id: 4, name: 'Aviator Sunglasses', price: 59.99, originalPrice: 79.99, category: 'accessories', tags: ['summer', 'eyewear'], colors: ['gold', 'silver', 'black'], sizes: ['One Size'], rating: 4.6, reviews: 42, stock: 15, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: false, bestseller: false, description: 'Classic aviator sunglasses with UV protection. Lightweight metal frame and polarized lenses.'},
        {id: 5, name: 'Slim Fit Dress Shirt', price: 49.99, originalPrice: 69.99, category: 'shirts', tags: ['formal', 'office'], colors: ['white', 'blue', 'pink'], sizes: ['S', 'M', 'L', 'XL', 'XXL'], rating: 4.4, reviews: 78, stock: 20, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: true, bestseller: false, description: 'Elegant slim-fit dress shirt made from premium cotton. Perfect for formal occasions and business settings.'},
        {id: 6, name: 'Cargo Pants', price: 69.99, originalPrice: 79.99, category: 'pants', tags: ['casual', 'outdoor'], colors: ['khaki', 'olive', 'black'], sizes: ['30', '32', '34', '36'], rating: 4.1, reviews: 36, stock: 14, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: false, bestseller: false, description: 'Durable cargo pants with multiple pockets. Perfect for outdoor activities and casual wear.'},
        {id: 7, name: 'Running Shoes', price: 119.99, originalPrice: 139.99, category: 'shoes', tags: ['sport', 'athletic'], colors: ['black', 'blue', 'red'], sizes: ['40', '41', '42', '43', '44', '45'], rating: 4.7, reviews: 112, stock: 18, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: true, bestseller: true, description: 'Lightweight running shoes with superior cushioning and support. Breathable mesh upper and durable outsole.'},
        {id: 8, name: 'Leather Belt', price: 39.99, originalPrice: 49.99, category: 'accessories', tags: ['formal', 'casual'], colors: ['brown', 'black'], sizes: ['S', 'M', 'L'], rating: 4.3, reviews: 28, stock: 22, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: false, bestseller: false, description: 'Genuine leather belt with classic buckle. Versatile accessory for both formal and casual outfits.'},
        {id: 9, name: 'Graphic T-Shirt', price: 24.99, originalPrice: 34.99, category: 'shirts', tags: ['casual', 'summer'], colors: ['white', 'black', 'gray'], sizes: ['S', 'M', 'L', 'XL'], rating: 4.0, reviews: 65, stock: 30, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: false, bestseller: false, description: 'Comfortable graphic t-shirt with unique print. Made from soft cotton blend material.'},
        {id: 10, name: 'Chino Pants', price: 59.99, originalPrice: 69.99, category: 'pants', tags: ['casual', 'smart casual'], colors: ['beige', 'navy', 'burgundy'], sizes: ['30', '32', '34', '36', '38'], rating: 4.5, reviews: 54, stock: 16, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: true, bestseller: false, description: 'Classic chino pants made from premium cotton. Versatile option for both casual and smart-casual occasions.'},
        {id: 11, name: 'Chelsea Boots', price: 149.99, originalPrice: 179.99, category: 'shoes', tags: ['casual', 'formal'], colors: ['brown', 'black', 'tan'], sizes: ['40', '41', '42', '43', '44'], rating: 4.6, reviews: 87, stock: 10, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: false, bestseller: true, description: 'Stylish chelsea boots made from premium leather. Elastic side panels and comfortable footbed for all-day wear.'},
        {id: 12, name: 'Watch', price: 199.99, originalPrice: 249.99, category: 'accessories', tags: ['formal', 'luxury'], colors: ['silver', 'gold', 'black'], sizes: ['One Size'], rating: 4.9, reviews: 104, stock: 5, images: ['/api/placeholder/300/300', '/api/placeholder/300/300'], featured: true, bestseller: true, description: 'Elegant timepiece with precise quartz movement. Stainless steel case and premium leather strap.'}
    ],
    activeProductTab: 'description',
    selectedProduct: null,
    selectedColor: null,
    selectedSize: null,
    quantity: 1,
    showSizeGuide: false,
    
    init() {
        this.updateFilteredProducts();
        
        // Load cart from localStorage
        const savedCart = localStorage.getItem('cart');
        if (savedCart) {
            this.cart = JSON.parse(savedCart);
        }
        
        // Load wishlist from localStorage
        const savedWishlist = localStorage.getItem('wishlist');
        if (savedWishlist) {
            this.wishlist = JSON.parse(savedWishlist);
        }
    },
    
    filteredProducts() {
        return this.products.filter(product => {
            // Category filter
            if (this.activeCategory !== 'all' && product.category !== this.activeCategory) {
                return false;
            }
            
            // Price filter
            if (product.price > this.priceFilter) {
                return false;
            }
            
            // Search filter
            if (this.searchQuery && !product.name.toLowerCase().includes(this.searchQuery.toLowerCase()) &&
                !product.description.toLowerCase().includes(this.searchQuery.toLowerCase()) &&
                !product.category.toLowerCase().includes(this.searchQuery.toLowerCase()) &&
                !product.tags.some(tag => tag.toLowerCase().includes(this.searchQuery.toLowerCase()))) {
                return false;
            }
            
            return true;
        }).sort((a, b) => {
            // Sort options
            switch(this.sortOption) {
                case 'price-asc':
                    return a.price - b.price;
                case 'price-desc':
                    return b.price - a.price;
                case 'rating':
                    return b.rating - a.rating;
                case 'newest':
                    return b.id - a.id;
                case 'bestselling':
                    return (b.bestseller ? 1 : 0) - (a.bestseller ? 1 : 0);
                default: // featured
                    return (b.featured ? 1 : 0) - (a.featured ? 1 : 0);
            }
        });
    },
    
    updateFilteredProducts() {
        return this.filteredProducts();
    },
    
    toggleCategory(category) {
        this.activeCategory = category;
        this.updateFilteredProducts();
    },
    
    updatePriceFilter(value) {
        this.priceFilter = value;
        this.updateFilteredProducts();
    },
    
    toggleWishlist(productId) {
        const index = this.wishlist.indexOf(productId);
        if (index === -1) {
            this.wishlist.push(productId);
            this.showNotification('Product added to wishlist!');
        } else {
            this.wishlist.splice(index, 1);
            this.showNotification('Product removed from wishlist!');
        }
        localStorage.setItem('wishlist', JSON.stringify(this.wishlist));
    },
    
    isInWishlist(productId) {
        return this.wishlist.includes(productId);
    },
    
    openQuickview(product) {
        this.quickviewProduct = product;
        this.selectedColor = product.colors[0];
        this.selectedSize = product.sizes[0];
        this.quantity = 1;
        this.showQuickview = true;
        this.activeProductTab = 'description';
        
        // Add to recently viewed
        if (!this.recentlyViewed.includes(product.id)) {
            this.recentlyViewed.unshift(product.id);
            if (this.recentlyViewed.length > 4) {
                this.recentlyViewed.pop();
            }
            localStorage.setItem('recentlyViewed', JSON.stringify(this.recentlyViewed));
        }
    },
    
    addToCart(product, quantity = 1, color = null, size = null) {
        if (!color) color = product.colors[0];
        if (!size) size = product.sizes[0];
        
        const existingItem = this.cart.find(item => 
            item.id === product.id && item.color === color && item.size === size
        );
        
        if (existingItem) {
            existingItem.quantity += quantity;
        } else {
            this.cart.push({
                id: product.id,
                name: product.name,
                price: product.price,
                image: product.images[0],
                color: color,
                size: size,
                quantity: quantity
            });
        }
        
        localStorage.setItem('cart', JSON.stringify(this.cart));
        this.cartOpen = true;
        this.showNotification('Product added to cart!');
    },
    
    quickAddToCart(product) {
        this.addToCart(product);
    },
    
    removeFromCart(index) {
        this.cart.splice(index, 1);
        localStorage.setItem('cart', JSON.stringify(this.cart));
        this.showNotification('Product removed from cart!');
    },
    
    cartTotal() {
        return this.cart.reduce((total, item) => {
            return total + (item.price * item.quantity);
        }, 0);
    },
    
    cartCount() {
        return this.cart.reduce((total, item) => total + item.quantity, 0);
    },
    
    incrementQuantity() {
        this.quantity++;
    },
    
    decrementQuantity() {
        if (this.quantity > 1) {
            this.quantity--;
        }
    },
    
    selectColor(color) {
        this.selectedColor = color;
    },
    
    selectSize(size) {
        this.selectedSize = size;
    },
    
    showNotification(message) {
        this.notificationMessage = message;
        this.showNotification = true;
        setTimeout(() => {
            this.showNotification = false;
        }, 3000);
    },
    
    checkout() {
        if (this.cart.length === 0) {
            this.showNotification('Your cart is empty!');
            return;
        }
        
        if (!this.currentUser) {
            this.showLoginModal = true;
            return;
        }
        
        // Simulate checkout process
        this.showNotification('Processing your order...');
        setTimeout(() => {
            this.cart = [];
            localStorage.setItem('cart', JSON.stringify(this.cart));
            this.cartOpen = false;
            this.showNotification('Order placed successfully!');
        }, 2000);
    },
    
    login(email, password) {
        // Simulate login process
        this.showNotification('Logging in...');
        setTimeout(() => {
            this.currentUser = {
                name: 'John Doe',
                email: email
            };
            this.showLoginModal = false;
            this.showNotification('Logged in successfully!');
        }, 1500);
    },
    
    logout() {
        this.currentUser = null;
        this.showNotification('Logged out successfully!');
    },
    
    getProduct(id) {
        return this.products.find(p => p.id === id);
    }
}">

    <!-- Notification -->
    <div x-show="showNotification" x-transition:enter="transition ease-out duration-300" 
        x-transition:enter-start="opacity-0 transform translate-y-2" 
        x-transition:enter-end="opacity-100 transform translate-y-0"
        x-transition:leave="transition ease-in duration-200" 
        x-transition:leave-start="opacity-100 transform translate-y-0" 
        x-transition:leave-end="opacity-0 transform translate-y-2"
        class="fixed top-4 right-4 z-50 bg-indigo-600 text-white px-6 py-3 rounded-lg shadow-lg">
        <p x-text="notificationMessage"></p>
    </div>

    <!-- Login Modal -->
    <div x-show="showLoginModal" class="fixed inset-0 z-50 overflow-y-auto" style="display: none;">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                            <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Login to Your Account</h3>
                            <div class="mt-2 space-y-4">
                                <div>
                                    <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                                    <input type="email" id="email" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                </div>
                                <div>
                                    <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                                    <input type="password" id="password" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <input id="remember-me" type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                                        <label for="remember-me" class="ml-2 block text-sm text-gray-900">Remember me</label>
                                    </div>
                                    <div class="text-sm">
                                        <a href="#" class="font-medium text-indigo-600 hover:text-indigo-500">Forgot password?</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" @click="login('test@example.com', 'password')" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm">
                        Login
                    </button>
                    <button type="button" @click="showLoginModal = false" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4">
            <!-- Top Bar -->
            <div class="flex justify-between items-center mb-4">
                <div class="hidden md:flex space-x-4 text-sm">
                    <a href="#" class="hover:text-indigo-600 transition-colors">Track Order</a>
                    <a href="#" class="hover:text-indigo-600 transition-colors">Help Center</a>
                    <a href="#" class="hover:text-indigo-600 transition-colors">Store Locator</a>
                </div>
                
                <div class="bg-indigo-100 text-indigo-800 px-4 py-1 rounded-full text-sm font-medium hidden md:block">
                    Free shipping on orders over $99
                </div>
                
                <div class="hidden md:flex space-x-4 text-sm">
                    <template x-if="!currentUser">
                        <div class="flex space-x-4">
                            <a href="#" @click.prevent="showLoginModal = true" class="hover:text-indigo-600 transition-colors">Login</a>
                            <a href="#" class="hover:text-indigo-600 transition-colors">Register</a>
                        </div>
                    </template>
                    <template x-if="currentUser">
                        <div class="flex space-x-4">
                            <span>Welcome, <span x-text="currentUser.name" class="font-medium"></span></span>
                            <a href="#" @click.prevent="logout" class="hover:text-indigo-600 transition-colors">Logout</a>
                        </div>
                    </template>
                </div>
                
                <!-- Mobile Menu Button -->
                <button @click="isMenuOpen = !isMenuOpen" class="md:hidden text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Main Navbar -->
            <div class="flex justify-between items-center">
                <a href="#" class="text-2xl font-bold text-indigo-600">LuxeMarket</a>
                
                <!-- Desktop Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="#" class="font-medium hover:text-indigo-600 transition-colors py-2 border-b-2 border-transparent hover:border-indigo-600">Home</a>
                    <div class="relative group" x-data="{open: false}">
                        <a href="#" @click.prevent="open = !open" @click.away="open = false" class="font-medium hover:text-indigo-600 transition-colors py-2 border-b-2 border-transparent hover:border-indigo-600 flex items-center">
                            Shop
                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </a>
                        <div x-show="open" x-transition:enter="transition ease-out duration-200" 
                            x-transition:enter-start="opacity-0 translate-y-1" 
                            x-transition:enter-end="opacity-100 translate-y-0"
                            x-transition:leave="transition ease-in duration-150" 
                            x-transition:leave-start="opacity-100 translate-y-0" 
                            x-transition:leave-end="opacity-0 translate-y-1"
                            class="absolute left-0 mt-2 w-60 bg-white shadow-lg rounded-lg py-2 z-50">
                            <a href="#" @click="toggleCategory('all'); open = false" class="block px-4 py-2 hover:bg-indigo-50 hover:text-indigo-600">All Products</a>
                            <a href="#" @click="toggleCategory('shirts'); open = false" class="block px-4 py-2 hover:bg-indigo-50 hover:text-indigo-600">Shirts</a>
                            <a href="#" @click="toggleCategory('pants'); open = false" class="block px-4 py-2 hover:bg-indigo-50 hover:text-indigo-600">Pants</a>
                            <a href="#" @click="toggleCategory('shoes'); open = false" class="block px-4 py-2 hover:bg-indigo-50 hover:text-indigo-600">Shoes</a>
                            <a href="#" @click="toggleCategory('accessories'); open = false" class="block px-4 py-2 hover:bg-indigo-50 hover:text-indigo-600">Accessories</a>
                        </div>
                    </div>
                    <a href="#" class="font-medium hover:text-indigo-600 transition-colors py-2 border-b-2 border-transparent hover:border-indigo-600">New Arrivals</a>
                    <a href="#" class="font-medium hover:text-indigo-600 transition-colors py-2 border-b-2 border-transparent hover:border-indigo-600">Sale</a>
                    <a href="#" class="font-medium hover:text-indigo-600 transition-colors py-2 border-b-2 border-transparent hover:border-indigo-600">About Us</a>
                </nav>
                
                <!-- Icons -->
                <div class="flex items-center space-x-6">
                    <button @click="isSearchOpen = !isSearchOpen" class="hover:text-indigo-600 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                    <a href="#" class="hover:text-indigo-600 transition-colors relative">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                        </svg>
                        <span x-show="wishlist.length > 0" class="absolute -top-2 -right-2 bg-indigo-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center" x-text="wishlist.length"></span>
                    </a>
                    <button @click="cartOpen = !cartOpen" class="hover:text-indigo-600 transition-colors relative">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                        </svg>
                        <span x-show="cartCount() > 0" class="absolute -top-2 -right-2 bg-indigo-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center" x-text="cartCount()"></span>
                    </button>
                    <template x-if="currentUser">
                        <a href="#" class="hover:text-indigo-600 transition-colors">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                        </a>
                    </template>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div x-show="isMenuOpen" x-transition:enter="transition ease-out duration-200" 
        x-transition:enter-start="opacity-0 transform -translate-x-full" 
        x-transition:enter-end="opacity-100 transform translate-x-0"
        x-transition:leave="transition ease-in duration-150" 
        x-transition:leave-start="opacity-100 transform translate-x-0" 
        x-transition:leave-end="opacity-0 transform -translate-x-full"
        class="fixed inset-0 z-40 bg-white md:hidden" style="display: none;">
        <div class="flex flex-col h-full">
            <div class="flex justify-between items-center px-4 py-3 border-b">
                <a href="#" class="text-2xl font-bold text-indigo-600">LuxeMarket</a>
                <button @click="isMenuOpen = false" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="flex flex-col p-4 space-y-4 overflow-y-auto custom-scrollbar flex-grow">
                <a href="#" class="text-lg border-b pb-2">Home</a>
                <div x-data="{shopOpen: false}">
                    <div @click="shopOpen = !shopOpen" class="flex justify-between items-center text-lg border-b pb-2">
                        <span>Shop</span>
                        <svg :class="{'transform rotate-180': shopOpen}" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div x-show="shopOpen" class="pl-4 py-2 space-y-2 border-b">
                        <a href="#" @click="toggleCategory('all'); isMenuOpen = false" class="block py-1">All Products</a>
                        <a href="#" @click="toggleCategory('shirts'); isMenuOpen = false" class="block py-1">Shirts</a>
                        <a href="#" @click="toggleCategory('pants'); isMenuOpen = false" class="block py-1">Pants</a>
                        <a href="#" @click="toggleCategory('shoes'); isMenuOpen = false" class="block py-1">Shoes</a>
                        <a href="#" @click="toggleCategory('accessories'); isMenuOpen = false" class="block py-1">Accessories</a>
                    </div>
                </div>
                <a href="#" class="text-lg border-b pb-2">New Arrivals</a>
                <a href="#" class="text-lg border-b pb-2">Sale</a>
                <a href="#" class="text-lg border-b pb-2">About Us</a>
            </div>
            <div class="px-4 py-3 border-t">
                <template x-if="!currentUser">
                    <div class="space-y-2">
                        <a href="#" @click.prevent="showLoginModal = true; isMenuOpen = false" class="block w-full py-2 text-center bg-indigo-600 text-white rounded-md">Login</a>
                        <a href="#" class="block w-full py-2 text-center border border-gray-300 rounded-md">Register</a>
                    </div>
                </template>
                <template x-if="currentUser">
                    <div class="space-y-2">
                        <p class="text-center">Logged in as <span x-text="currentUser.name" class="font-medium"></span></p>
                        <a href="#" @click.prevent="logout" class="block w-full py-2 text-center bg-indigo-600 text-white rounded-md">Logout</a>
                    </div>
                </template>
            </div>
        </div>
    </div>

    <!-- Search Bar -->
    <div x-show="isSearchOpen" x-transition:enter="transition ease-out duration-200" 
        x-transition:enter-start="opacity-0 transform -translate-y-4" 
        x-transition:enter-end="opacity-100 transform translate-y-0"
        x-transition:leave="transition ease-in duration-150" 
        x-transition:leave-start="opacity-100 transform translate-y-0" 
        x-transition:leave-end="opacity-0 transform -translate-y-4"
        class="fixed inset-0 z-30 bg-black bg-opacity-50 flex items-start justify-center pt-16" style="display: none;">
        <div class="bg-white p-4 rounded-lg shadow-lg w-full max-w-2xl mx-4">
            <div class="flex items-center border-b pb-2">
                <svg class="w-5 h-5 text-gray-500 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <input x-model="searchQuery" @keydown.escape="isSearchOpen = false" type="text" placeholder="Search for products..." class="flex-1 outline-none text-lg py-2">
                <button @click="isSearchOpen = false" class="ml-2 text-gray-500 hover:text-gray-700">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="mt-4 max-h-96 overflow-y-auto custom-scrollbar" x-show="searchQuery.length > 0">
                <template x-for="product in filteredProducts()" :key="product.id">
                    <div class="flex items-center p-2 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors" @click="openQuickview(product); isSearchOpen = false">
                        <img :src="product.images[0]" :alt="product.name" class="w-16 h-16 object-cover rounded-md">
                        <div class="ml-4">
                            <h4 class="font-medium" x-text="product.name"></h4>
                            <div class="flex items-center mt-1">
                                <span class="text-indigo-600 font-medium" x-text="'$' + product.price.toFixed(2)"></span>
                                <span class="ml-2 text-gray-500 line-through text-sm" x-text="'$' + product.originalPrice.toFixed(2)"></span>
                            </div>
                        </div>
                    </div>
                </template>
                <div x-show="filteredProducts().length === 0 && searchQuery.length > 0" class="p-4 text-center text-gray-500">
                    No products found for "<span x-text="searchQuery"></span>"
                </div>
            </div>
            <div class="mt-4" x-show="searchQuery.length === 0">
                <h3 class="font-medium text-gray-700 mb-2">Popular Searches</h3>
                <div class="flex flex-wrap gap-2">
                    <button @click="searchQuery = 'shirt'" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-gray-200 transition-colors">Shirts</button>
                    <button @click="searchQuery = 'jeans'" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-gray-200 transition-colors">Jeans</button>
                    <button @click="searchQuery = 'shoes'" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-gray-200 transition-colors">Shoes</button>
                    <button @click="searchQuery = 'accessories'" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-gray-200 transition-colors">Accessories</button>
                    <button @click="searchQuery = 'summer'" class="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-gray-200 transition-colors">Summer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Shopping Cart Sidebar -->
    <div x-show="cartOpen" 
        class="fixed inset-0 z-50 overflow-hidden" 
        x-transition:enter="transition ease-in-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in-out duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        style="display: none;">
        <div class="absolute inset-0 overflow-hidden">
            <div class="absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity" @click="cartOpen = false"></div>
            <div class="fixed inset-y-0 right-0 pl-10 max-w-full flex">
                <div class="w-screen max-w-md"
                    x-transition:enter="transform transition ease-in-out duration-300"
                    x-transition:enter-start="translate-x-full"
                    x-transition:enter-end="translate-x-0"
                    x-transition:leave="transform transition ease-in-out duration-300"
                    x-transition:leave-start="translate-x-0"
                    x-transition:leave-end="translate-x-full">
                    <div class="h-full flex flex-col bg-white shadow-xl overflow-y-scroll custom-scrollbar">
                        <div class="flex-1 py-6 overflow-y-auto px-4 sm:px-6">
                            <div class="flex items-start justify-between">
                                <h2 class="text-lg font-medium text-gray-900">Shopping cart</h2>
                                <div class="ml-3 h-7 flex items-center">
                                    <button @click="cartOpen = false" class="-m-2 p-2 text-gray-400 hover:text-gray-500">
                                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <div class="mt-8">
                                <div class="flow-root">
                                    <ul class="-my-6 divide-y divide-gray-200">
                                        <template x-if="cart.length === 0">
                                            <li class="py-6 flex justify-center">
                                                <div class="text-center">
                                                    <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                                                    </svg>
                                                    <h3 class="mt-2 text-sm font-medium text-gray-900">Your cart is empty</h3>
                                                    <p class="mt-1 text-sm text-gray-500">Start shopping to add items to your cart.</p>
                                                    <div class="mt-6">
                                                        <button @click="cartOpen = false" class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none">
                                                            Continue Shopping
                                                        </button>
                                                    </div>
                                                </div>
                                            </li>
                                        </template>
                                        <template x-for="(item, index) in cart" :key="index">
                                            <li class="py-6 flex cart-item-enter">
                                                <div class="flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden">
                                                    <img :src="item.image" :alt="item.name" class="w-full h-full object-center object-cover">
                                                </div>

                                                <div class="ml-4 flex-1 flex flex-col">
                                                    <div>
                                                        <div class="flex justify-between text-base font-medium text-gray-900">
                                                            <h3 x-text="item.name"></h3>
                                                            <p class="ml-4" x-text="'$' + (item.price * item.quantity).toFixed(2)"></p>
                                                        </div>
                                                        <div class="flex mt-1">
                                                            <p class="mt-1 text-sm text-gray-500 mr-4" x-text="'Color: ' + item.color"></p>
                                                            <p class="mt-1 text-sm text-gray-500" x-text="'Size: ' + item.size"></p>
                                                        </div>
                                                    </div>
                                                    <div class="flex-1 flex items-end justify-between text-sm">
                                                        <div class="flex items-center border rounded-md">
                                                            <button @click="if (item.quantity > 1) { item.quantity--; localStorage.setItem('cart', JSON.stringify(cart)); }" class="px-2 py-1 text-gray-600 hover:text-gray-800">-</button>
                                                            <span class="px-2 py-1 border-x" x-text="item.quantity"></span>
                                                            <button @click="item.quantity++; localStorage.setItem('cart', JSON.stringify(cart));" class="px-2 py-1 text-gray-600 hover:text-gray-800">+</button>
                                                        </div>

                                                        <div class="flex">
                                                            <button @click="removeFromCart(index)" type="button" class="font-medium text-indigo-600 hover:text-indigo-500">Remove</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                        </template>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="border-t border-gray-200 py-6 px-4 sm:px-6">
                            <div class="flex justify-between text-base font-medium text-gray-900 mb-4">
                                <p>Subtotal</p>
                                <p x-text="'$' + cartTotal().toFixed(2)"></p>
                            </div>
                            <p class="mt-0.5 text-sm text-gray-500">Shipping and taxes calculated at checkout.</p>
                            <div class="mt-6">
                                <button @click="checkout()" class="w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700">
                                    Checkout
                                </button>
                            </div>
                            <div class="mt-6 flex justify-center text-sm text-center text-gray-500">
                                <p>
                                    or
                                    <button @click="cartOpen = false" class="text-indigo-600 font-medium hover:text-indigo-500 ml-1">
                                        Continue Shopping
                                    </button>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Quickview Modal -->
    <div x-show="showQuickview" class="fixed inset-0 z-50 overflow-y-auto" 
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        style="display: none;">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
            </div>
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
                x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
                x-transition:leave="transition ease-in duration-200"
                x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
                x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95">
                <div class="absolute top-0 right-0 pt-4 pr-4">
                    <button @click="showQuickview = false" class="text-gray-400 hover:text-gray-500 focus:outline-none">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="bg-white p-6 sm:p-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Product Image -->
                        <div>
                            <div class="mb-4 aspect-w-1 aspect-h-1 rounded-lg bg-gray-100 overflow-hidden">
                                <template x-if="quickviewProduct">
                                    <img :src="quickviewProduct.images[0]" :alt="quickviewProduct.name" class="w-full h-64 md:h-80 object-cover object-center">
                                </template>
                            </div>
                            <div class="grid grid-cols-4 gap-2 mt-2" x-show="quickviewProduct && quickviewProduct.images.length > 1">
                                <template x-for="(image, index) in quickviewProduct?.images" :key="index">
                                    <div class="aspect-w-1 aspect-h-1 rounded-md overflow-hidden cursor-pointer border-2" :class="{'border-indigo-500': index === 0, 'border-transparent': index !== 0}">
                                        <img :src="image" :alt="quickviewProduct.name + ' image ' + (index + 1)" class="w-full h-full object-cover object-center">
                                    </div>
                                </template>
                            </div>
                        </div>
                        
                        <!-- Product Details -->
                        <div>
                            <template x-if="quickviewProduct">
                                <div>
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h2 class="text-2xl font-bold text-gray-900" x-text="quickviewProduct.name"></h2>
                                            <div class="flex items-center mt-1">
                                                <div class="flex items-center">
                                                    <template x-for="i in 5" :key="i">
                                                        <svg :class="{'text-yellow-400': i <= Math.floor(quickviewProduct.rating), 'text-gray-300': i > Math.floor(quickviewProduct.rating)}" class="w-4 h-4 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                                        </svg>
                                                    </template>
                                                </div>
                                                <span class="ml-2 text-sm text-gray-600" x-text="quickviewProduct.rating + ' (' + quickviewProduct.reviews + ' reviews)'"></span>
                                            </div>
                                        </div>
                                        <button @click="toggleWishlist(quickviewProduct.id)" class="text-gray-400 hover:text-indigo-600 focus:outline-none transition-colors">
                                            <svg :class="{'text-indigo-600 fill-current': isInWishlist(quickviewProduct.id)}" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                            </svg>
                                        </button>
                                    </div>
                                    
                                    <div class="mt-4">
                                        <div class="flex items-center">
                                            <p class="text-2xl font-bold text-indigo-600" x-text="'$' + quickviewProduct.price.toFixed(2)"></p>
                                            <p class="ml-3 text-lg text-gray-500 line-through" x-text="'$' + quickviewProduct.originalPrice.toFixed(2)"></p>
                                            <span class="ml-3 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full" x-text="Math.round((quickviewProduct.originalPrice - quickviewProduct.price) / quickviewProduct.originalPrice * 100) + '% OFF'"></span>
                                        </div>
                                        <p class="text-sm text-gray-500 mt-1">
                                            <span x-show="quickviewProduct.stock > 10">In stock</span>
                                            <span x-show="quickviewProduct.stock <= 10 && quickviewProduct.stock > 0" class="text-orange-600">Only <span x-text="quickviewProduct.stock"></span> left in stock</span>
                                            <span x-show="quickviewProduct.stock === 0" class="text-red-600">Out of stock</span>
                                        </p>
                                    </div>
                                    
                                    <!-- Color Selection -->
                                    <div class="mt-6">
                                        <h3 class="text-sm font-medium text-gray-900">Color</h3>
                                        <div class="flex items-center space-x-3 mt-2">
                                            <template x-for="color in quickviewProduct.colors" :key="color">
                                                <div @click="selectColor(color)" :class="{
                                                    'ring-2 ring-indigo-500': selectedColor === color,
                                                    'bg-slate-500': color === 'slate',
                                                    'bg-gray-500': color === 'gray',
                                                    'bg-red-500': color === 'red',
                                                    'bg-yellow-500': color === 'gold',
                                                    'bg-blue-500': color === 'blue',
                                                    'bg-indigo-500': color === 'indigo',
                                                    'bg-emerald-500': color === 'emerald',
                                                    'bg-green-500': color === 'green',
                                                    'bg-pink-500': color === 'pink',
                                                    'bg-purple-500': color === 'purple',
                                                    'bg-orange-500': color === 'orange',
                                                    'bg-amber-500': color === 'gold',
                                                    'bg-black': color === 'black',
                                                    'bg-white border': color === 'white',
                                                    'bg-brown-500': color === 'brown',
                                                    'bg-tan-500': color === 'tan',
                                                    'bg-zinc-800': color === 'black',
                                                    'bg-neutral-600': color === 'gray',
                                                    'bg-sky-600': color === 'blue',
                                                    'bg-teal-600': color === 'emerald',
                                                    'bg-orange-400': color === 'gold',
                                                    'bg-rose-600': color === 'red',
                                                    'bg-neutral-200': color === 'silver',
                                                    'bg-lime-600': color === 'green',
                                                    'bg-yellow-700': color === 'khaki',
                                                    'bg-green-900': color === 'olive',
                                                    'bg-pink-600': color === 'pink',
                                                    'bg-red-800': color === 'burgundy',
                                                    'bg-amber-800': color === 'beige',
                                                    'bg-blue-900': color === 'navy',
                                                }" class="color-swatch relative inline-block h-8 w-8 rounded-full border border-gray-200 cursor-pointer" :class="{'selected': selectedColor === color}"></div>
                                            </template>
                                        </div>
                                    </div>
                                    
                                    <!-- Size Selection -->
                                    <div class="mt-6">
                                        <div class="flex items-center justify-between">
                                            <h3 class="text-sm font-medium text-gray-900">Size</h3>
                                            <a @click.prevent="showSizeGuide = true" href="#" class="text-sm font-medium text-indigo-600 hover:text-indigo-500">Size guide</a>
                                        </div>
                                        <div class="grid grid-cols-4 gap-2 sm:grid-cols-6 lg:grid-cols-8 mt-2">
                                            <template x-for="size in quickviewProduct.sizes" :key="size">
                                                <!-- Size Selection (continued) -->
<button @click="selectSize(size)" class="group border rounded-md py-2 px-3 flex items-center justify-center text-sm font-medium uppercase focus:outline-none sm:flex-1" :class="{
    'bg-indigo-600 text-white border-transparent': selectedSize === size,
    'bg-white border-gray-200 text-gray-900 hover:bg-gray-50': selectedSize !== size
}">
    <span x-text="size"></span>
</button>
</template>
</div>
</div>

<!-- Quantity Selection -->
<div class="mt-6">
    <h3 class="text-sm font-medium text-gray-900">Quantity</h3>
    <div class="flex items-center border border-gray-300 rounded-md w-32 mt-2">
        <button @click="if (selectedQuantity > 1) selectedQuantity--" class="px-3 py-2 text-gray-600 hover:text-gray-800">-</button>
        <div class="flex-1 text-center border-x px-3 py-2" x-text="selectedQuantity"></div>
        <button @click="selectedQuantity++" class="px-3 py-2 text-gray-600 hover:text-gray-800">+</button>
    </div>
</div>

<!-- Description -->
<div class="mt-6">
    <h3 class="text-sm font-medium text-gray-900">Description</h3>
    <div class="mt-2 text-sm text-gray-600 space-y-2" x-html="quickviewProduct.description"></div>
</div>

<!-- Add to Cart Button -->
<div class="mt-8 flex sm:flex-col1">
    <button @click="addToCart()" class="w-full flex items-center justify-center px-8 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none" :class="{
        'opacity-50 cursor-not-allowed': quickviewProduct.stock === 0 || !selectedColor || !selectedSize
    }" :disabled="quickviewProduct.stock === 0 || !selectedColor || !selectedSize">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
        </svg>
        <span x-text="quickviewProduct.stock === 0 ? 'Out of stock' : (!selectedColor || !selectedSize ? 'Select options' : 'Add to cart')"></span>
    </button>
</div>

<!-- Free Shipping & Returns -->
<div class="mt-6 grid grid-cols-2 gap-4 text-xs sm:text-sm">
    <div class="flex items-center">
        <svg class="flex-shrink-0 h-5 w-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        <p class="ml-2 text-gray-600">Free shipping over $99</p>
    </div>
    <div class="flex items-center">
        <svg class="flex-shrink-0 h-5 w-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        <p class="ml-2 text-gray-600">30-day returns</p>
    </div>
    <div class="flex items-center">
        <svg class="flex-shrink-0 h-5 w-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        <p class="ml-2 text-gray-600">Secure checkout</p>
    </div>
    <div class="flex items-center">
        <svg class="flex-shrink-0 h-5 w-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        <p class="ml-2 text-gray-600">Satisfaction guaranteed</p>
    </div>
</div>
</div>
</template>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- Size Guide Modal -->
<div x-show="showSizeGuide" class="fixed inset-0 z-60 overflow-y-auto" 
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    style="display: none;">
    <div class="flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0">
        <div class="fixed inset-0 transition-opacity" aria-hidden="true">
            <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
        </div>
        <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
            x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
            x-transition:leave="transition ease-in duration-200"
            x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
            x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95">
            <div class="absolute top-0 right-0 pt-4 pr-4">
                <button @click="showSizeGuide = false" class="text-gray-400 hover:text-gray-500 focus:outline-none">
                    <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="bg-white p-6">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Size Guide</h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead>
                            <tr>
                                <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Size</th>
                                <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Chest (in)</th>
                                <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Waist (in)</th>
                                <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Hips (in)</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">XS</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">32-34</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">26-28</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">34-36</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">S</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">35-37</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">29-31</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">37-39</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">M</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">38-40</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">32-34</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">40-42</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">L</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">41-43</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">35-37</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">43-45</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">XL</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">44-46</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">38-40</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">46-48</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">XXL</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">47-49</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">41-43</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">49-51</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="mt-6">
                    <h4 class="text-sm font-medium text-gray-900 mb-2">How to Measure</h4>
                    <ul class="text-sm text-gray-600 space-y-2">
                        <li><strong>Chest:</strong> Measure around the fullest part of your chest, keeping the tape measure parallel to the floor.</li>
                        <li><strong>Waist:</strong> Measure around your natural waistline, at the narrowest part of your torso.</li>
                        <li><strong>Hips:</strong> Measure around the fullest part of your hips, keeping the tape measure parallel to the floor.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Content -->
<main class="container mx-auto px-4 py-8">
    <!-- Hero Carousel -->
    <div x-data="{ currentSlide: 0 }" class="relative overflow-hidden rounded-xl mb-8">
        <div class="flex transition-transform duration-500 ease-in-out" :style="'transform: translateX(-' + currentSlide * 100 + '%)'">
            <div class="min-w-full">
                <div class="bg-indigo-800 relative h-96 md:h-[500px] flex items-center">
                    <div class="absolute inset-0 opacity-40 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')"></div>
                    <div class="container mx-auto px-6 relative z-10 text-white">
                        <h2 class="text-4xl md:text-5xl font-bold mb-4">Spring Collection 2025</h2>
                        <p class="text-xl mb-8 max-w-xl">Discover the latest trends and elevate your style with our exclusive new arrivals.</p>
                        <button @click="toggleCategory('new')" class="bg-white text-indigo-800 px-6 py-3 rounded-md font-medium hover:bg-gray-100 transition-colors">Shop Now</button>
                    </div>
                </div>
            </div>
            <div class="min-w-full">
                <div class="bg-pink-800 relative h-96 md:h-[500px] flex items-center">
                    <div class="absolute inset-0 opacity-40 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1445205170230-053b83016050?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')"></div>
                    <div class="container mx-auto px-6 relative z-10 text-white">
                        <h2 class="text-4xl md:text-5xl font-bold mb-4">Summer Sale</h2>
                        <p class="text-xl mb-8 max-w-xl">Up to 50% off on selected items. Limited time offer.</p>
                        <button @click="toggleCategory('sale')" class="bg-white text-pink-800 px-6 py-3 rounded-md font-medium hover:bg-gray-100 transition-colors">Shop Sale</button>
                    </div>
                </div>
            </div>
            <div class="min-w-full">
                <div class="bg-emerald-800 relative h-96 md:h-[500px] flex items-center">
                    <div class="absolute inset-0 opacity-40 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1490481651871-ab68de25d43d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')"></div>
                    <div class="container mx-auto px-6 relative z-10 text-white">
                        <h2 class="text-4xl md:text-5xl font-bold mb-4">Sustainable Fashion</h2>
                        <p class="text-xl mb-8 max-w-xl">Eco-friendly materials, ethical production, and timeless designs.</p>
                        <button @click="toggleCategory('eco')" class="bg-white text-emerald-800 px-6 py-3 rounded-md font-medium hover:bg-gray-100 transition-colors">Explore</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Carousel Controls -->
        <div class="absolute inset-0 flex items-center justify-between p-4">
            <button @click="currentSlide = currentSlide > 0 ? currentSlide - 1 : 2" class="p-2 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-75 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
            </button>
            <button @click="currentSlide = currentSlide < 2 ? currentSlide + 1 : 0" class="p-2 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-75 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </button>
        </div>
        
        <!-- Carousel Indicators -->
        <div class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2">
            <button @click="currentSlide = 0" class="w-3 h-3 rounded-full transition-colors" :class="currentSlide === 0 ? 'bg-white' : 'bg-white bg-opacity-50'"></button>
            <button @click="currentSlide = 1" class="w-3 h-3 rounded-full transition-colors" :class="currentSlide === 1 ? 'bg-white' : 'bg-white bg-opacity-50'"></button>
            <button @click="currentSlide = 2" class="w-3 h-3 rounded-full transition-colors" :class="currentSlide === 2 ? 'bg-white' : 'bg-white bg-opacity-50'"></button>
        </div>
    </div>
    
    <!-- Category Blocks -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        <div class="bg-gray-100 rounded-lg overflow-hidden h-64 relative group">
            <img src="https://images.unsplash.com/photo-1516257984-b1b4d707412e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Women's Collection" class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500">
            <div class="absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center">
                <div class="text-center">
                    <h3 class="text-white text-2xl font-bold mb-2">Women's Collection</h3>
                    <button @click="toggleCategory('women')" class="bg-white text-gray-900 px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors">Shop Now</button>
                </div>
            </div>
        </div>
        <div class="bg-gray-100 rounded-lg overflow-hidden h-64 relative group">
            <img src="https://images.unsplash.com/photo-1617137968427-85924c800a22?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Men's Collection" class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500">
            <div class="absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center">
                <div class="text-center">
                    <h3 class="text-white text-2xl font-bold mb-2">Men's Collection</h3>
                    <button @click="toggleCategory('men')" class="bg-white text-gray-900 px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors">Shop Now</button>
                </div>
            </div>
        </div>
        <div class="bg-gray-100 rounded-lg overflow-hidden h-64 relative group">
            <img src="https://images.unsplash.com/photo-1551107696-a4b0c5a0d9a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Accessories" class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500">
            <div class="absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center">
                <div class="text-center">
                    <h3 class="text-white text-2xl font-bold mb-2">Accessories</h3>
                    <button @click="toggleCategory('accessories')" class="bg-white text-gray-900 px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors">Shop Now</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Featured Products -->
    <div class="mb-12">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold">Featured Products</h2>
            <a href="#" @click.prevent="toggleCategory('all')" class="text-indigo-600 hover:text-indigo-800 font-medium">View All</a>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <template x-for="product in products.slice(0, 8)" :key="product.id">
                <div class="bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow border border-gray-200 product-card-enter">
                    <div class="relative group">
                        <div class="aspect-h-1 aspect-w-1 overflow-hidden">
                            <img :src="product.images[0]" :alt="product.name" class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300">
                        </div>
                        <button @click="toggleWishlist(product.id)" class="absolute top-3 right-3 w-8 h-8 rounded-full bg-white shadow-md flex items-center justify-center text-gray-400 hover:text-indigo-600 transition-colors">
                            <svg :class="{'text-indigo-600 fill-current': isInWishlist(product.id)}" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                        </button>
                        <div class="absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white transform translate-y-full group-hover:translate-y-0 transition-transform">
                            <button @click="openQuickview(product)" class="w-full py-2 text-center">Quick View</button>
                        </div>
                    </div>
                    <div class="p-4">
                        <div class="flex justify-between">
                            <h3 class="text-gray-700 font-medium" x-text="product.name"></h3>
                            <span class="text-indigo-600 font-medium" x-text="'$' + product.price.toFixed(2)"></span>
                        </div>
                        <p class="text-gray-500 text-sm mt-1" x-text="product.category"></p>
                        <div class="flex items-center mt-2">
                            <div class="flex">
                                <template x-for="i in 5" :key="i">
                                    <svg :class="{'text-yellow-400': i <= Math.floor(product.rating), 'text-gray-300': i > Math.floor(product.rating)}" class="w-4 h-4 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                    </svg>
                                </template>
                            </div>
                            <span class="text-xs text-gray-500 ml-1" x-text="'(' + product.reviews + ')'"></span>
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </div>
    <!-- New Arrivals -->
    <div class="mb-12">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold">New Arrivals</h2>
            <a href="#" @click.prevent="toggleCategory('new')" class="text-indigo-600 hover:text-indigo-800 font-medium">View All</a>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <template x-for="product in getProductsByCategory('new').slice(0, 4)" :key="product.id">
                <div class="bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow border border-gray-200 product-card-enter">
                    <div class="relative group">
                        <div class="aspect-h-1 aspect-w-1 overflow-hidden">
                            <img :src="product.images[0]" :alt="product.name" class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300">
                        </div>
                        <div class="absolute top-2 left-2">
                            <span class="bg-indigo-600 text-white text-xs px-2 py-1 rounded-full">New</span>
                        </div>
                        <button @click="toggleWishlist(product.id)" class="absolute top-3 right-3 w-8 h-8 rounded-full bg-white shadow-md flex items-center justify-center text-gray-400 hover:text-indigo-600 transition-colors">
                            <svg :class="{'text-indigo-600 fill-current': isInWishlist(product.id)}" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <!-- Continuation of Wishlist SVG in New Arrivals section -->
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                        </button>
                        <div class="absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white transform translate-y-full group-hover:translate-y-0 transition-transform">
                            <button @click="openQuickview(product)" class="w-full py-2 text-center">Quick View</button>
                        </div>
                    </div>
                    <div class="p-4">
                        <div class="flex justify-between">
                            <h3 class="text-gray-700 font-medium" x-text="product.name"></h3>
                            <span class="text-indigo-600 font-medium" x-text="'$' + product.price.toFixed(2)"></span>
                        </div>
                        <p class="text-gray-500 text-sm mt-1" x-text="product.category"></p>
                        <div class="flex items-center mt-2">
                            <div class="flex">
                                <template x-for="i in 5" :key="i">
                                    <svg :class="{'text-yellow-400': i <= Math.floor(product.rating), 'text-gray-300': i > Math.floor(product.rating)}" class="w-4 h-4 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                    </svg>
                                </template>
                            </div>
                            <span class="text-xs text-gray-500 ml-1" x-text="'(' + product.reviews + ')'"></span>
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </div>
    
    <!-- Featured Collections -->
    <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6">Featured Collections</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="rounded-lg overflow-hidden relative h-80 group">
                <img src="https://images.unsplash.com/photo-1523381210434-271e8be1f52b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" alt="Summer Essentials" class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500">
                <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent flex items-end">
                    <div class="p-6 text-white">
                        <h3 class="text-2xl font-bold mb-2">Summer Essentials</h3>
                        <p class="mb-4 opacity-80">Light, airy pieces for warm days</p>
                        <button @click="toggleCategory('summer')" class="bg-white text-black px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors">Explore Collection</button>
                    </div>
                </div>
            </div>
            <div class="rounded-lg overflow-hidden relative h-80 group">
                <img src="https://images.unsplash.com/photo-1540221652346-e5dd6b50f3e7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" alt="Athleisure" class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500">
                <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent flex items-end">
                    <div class="p-6 text-white">
                        <h3 class="text-2xl font-bold mb-2">Athleisure Collection</h3>
                        <p class="mb-4 opacity-80">Comfort meets style</p>
                        <button @click="toggleCategory('athleisure')" class="bg-white text-black px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors">Explore Collection</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Testimonials -->
    <div class="mb-12 py-12 bg-gray-50 rounded-xl">
        <div class="max-w-4xl mx-auto px-4">
            <h2 class="text-2xl font-bold text-center mb-8">What Our Customers Say</h2>
            <div x-data="{ testimonialIndex: 0 }" class="relative">
                <div class="overflow-hidden">
                    <div class="flex transition-transform duration-500 ease-in-out" :style="'transform: translateX(-' + testimonialIndex * 100 + '%)'">
                        <!-- Testimonial 1 -->
                        <div class="min-w-full px-4">
                            <div class="bg-white rounded-lg shadow-sm p-6 text-center">
                                <div class="flex justify-center mb-4">
                                    <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Customer" class="w-16 h-16 rounded-full">
                                </div>
                                <p class="text-gray-600 italic mb-4">"I absolutely love the quality of the clothes! The fabric feels luxurious and the fit is perfect. The customer service team was also incredibly helpful when I needed to exchange a size."</p>
                                <div>
                                    <h4 class="font-bold">Emily Johnson</h4>
                                    <div class="flex justify-center mt-2">
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Testimonial 2 -->
                        <div class="min-w-full px-4">
                            <div class="bg-white rounded-lg shadow-sm p-6 text-center">
                                <div class="flex justify-center mb-4">
                                    <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Customer" class="w-16 h-16 rounded-full">
                                </div>
                                <p class="text-gray-600 italic mb-4">"Shipping was incredibly fast and the packaging was eco-friendly. I appreciate brands that care about sustainability. Will definitely be ordering again!"</p>
                                <div>
                                    <h4 class="font-bold">Michael Chen</h4>
                                    <div class="flex justify-center mt-2">
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Testimonial 3 -->
                        <div class="min-w-full px-4">
                            <div class="bg-white rounded-lg shadow-sm p-6 text-center">
                                <div class="flex justify-center mb-4">
                                    <img src="https://randomuser.me/api/portraits/women/45.jpg" alt="Customer" class="w-16 h-16 rounded-full">
                                </div>
                                <p class="text-gray-600 italic mb-4">"I've been shopping here for years and the quality has always been consistent. Their sustainable collection is my go-to for basics. The new website makes shopping even easier!"</p>
                                <div>
                                    <h4 class="font-bold">Sarah Rodriguez</h4>
                                    <div class="flex justify-center mt-2">
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Testimonial Navigation -->
                <div class="flex justify-center mt-6 space-x-2">
                    <button @click="testimonialIndex = 0" :class="testimonialIndex === 0 ? 'bg-indigo-600' : 'bg-gray-300'" class="w-3 h-3 rounded-full"></button>
                    <button @click="testimonialIndex = 1" :class="testimonialIndex === 1 ? 'bg-indigo-600' : 'bg-gray-300'" class="w-3 h-3 rounded-full"></button>
                    <button @click="testimonialIndex = 2" :class="testimonialIndex === 2 ? 'bg-indigo-600' : 'bg-gray-300'" class="w-3 h-3 rounded-full"></button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Instagram Feed -->
    <div class="mb-12">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold">Follow Us On Instagram</h2>
            <a href="https://instagram.com/fashionstore" target="_blank" class="text-indigo-600 hover:text-indigo-800 font-medium">@fashionstore</a>
        </div>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2">
            <a href="#" class="block aspect-square overflow-hidden group">
                <img src="https://images.unsplash.com/photo-1496747611176-843222e1e57c?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Instagram Post" class="w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300">
            </a>
            <a href="#" class="block aspect-square overflow-hidden group">
                <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Instagram Post" class="w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300">
            </a>
            <a href="#" class="block aspect-square overflow-hidden group">
                <img src="https://images.unsplash.com/photo-1581044777550-4cfa60707c03?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Instagram Post" class="w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300">
            </a>
            <a href="#" class="block aspect-square overflow-hidden group">
                <img src="https://images.unsplash.com/photo-1548549557-dbe9946621da?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Instagram Post" class="w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300">
            </a>
            <a href="#" class="block aspect-square overflow-hidden group">
                <img src="https://images.unsplash.com/photo-1558769132-cb1aea458c5e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Instagram Post" class="w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300">
            </a>
            <a href="#" class="block aspect-square overflow-hidden group">
                <img src="https://images.unsplash.com/photo-1566206091558-7f218b696731?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Instagram Post" class="w-full h-full object-cover object-center group-hover:scale-110 transition-transform duration-300">
            </a>
        </div>
    </div>
</main>
<!-- Footer -->
<footer class="bg-gray-900 text-white pt-12 pb-8">
    <div class="container mx-auto px-4">
        <!-- Main Footer Content -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
            <!-- Company Info -->
            <div>
                <h3 class="text-xl font-bold mb-4">FashionStore</h3>
                <p class="text-gray-400 mb-4">Elevate your style with our curated collections of modern, sustainable fashion for every occasion.</p>
                <div class="flex space-x-4">
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22.675 0H1.325C.593 0 0 .593 0 1.325v21.351C0 23.407.593 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116c.73 0 1.323-.593 1.323-1.325V1.325C24 .593 23.407 0 22.675 0z"/>
                        </svg>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 14-7.503 14-14 0-.21-.005-.426-.015-.639.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/>
                        </svg>
                    </a>
                    <a href="https://instagram.com/fashionstore" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
                        </svg>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.112.224.083.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.347 2.317.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/>
                        </svg>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
                        </svg>
                    </a>
                </div>
            </div>
            
            <!-- Quick Links -->
            <div>
                <h3 class="text-xl font-bold mb-4">Quick Links</h3>
                <ul class="space-y-2">
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Shop</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">New Arrivals</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Featured Collections</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Sale</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">About Us</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Contact</a></li>
                </ul>
            </div>
            
            <!-- Customer Service -->
            <div>
                <h3 class="text-xl font-bold mb-4">Customer Service</h3>
                <ul class="space-y-2">
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">My Account</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Track Your Order</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Shipping Policy</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Returns & Exchanges</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">FAQs</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Size Guide</a></li>
                </ul>
            </div>
            
            <!-- Newsletter -->
            <div>
                <h3 class="text-xl font-bold mb-4">Stay Updated</h3>
                <p class="text-gray-400 mb-4">Subscribe to our newsletter for exclusive offers and updates.</p>
                <div class="flex flex-col space-y-2">
                    <input type="email" placeholder="Your email address" class="px-4 py-2 bg-gray-800 text-white rounded-md border border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    <button @click="subscribeFooterNewsletter()" class="px-4 py-2 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 transition-colors">Subscribe</button>
                </div>
            </div>
        </div>
        
        <!-- Payment Methods -->
        <div class="border-t border-gray-800 pt-8 pb-4">
            <div class="flex flex-wrap justify-center gap-4 mb-4">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons@develop/icons/visa.svg" alt="Visa" class="h-8 w-auto bg-white p-1 rounded">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons@develop/icons/mastercard.svg" alt="Mastercard" class="h-8 w-auto bg-white p-1 rounded">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons@develop/icons/applepay.svg" alt="Apple Pay" class="h-8 w-auto bg-white p-1 rounded">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons@develop/icons/googlepay.svg" alt="Google Pay" class="h-8 w-auto bg-white p-1 rounded">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons@develop/icons/paypal.svg" alt="PayPal" class="h-8 w-auto bg-white p-1 rounded">
            </div>
        </div>
        
        <!-- Bottom Footer -->
        <div class="border-t border-gray-800 pt-6 flex flex-col md:flex-row justify-between items-center">
            <p class="text-sm text-gray-400 mb-4 md:mb-0">&copy; 2025 FashionStore. All rights reserved.</p>
            <div class="flex flex-wrap justify-center gap-4 text-sm text-gray-400">
                <a href="#" class="hover:text-white transition-colors">Privacy Policy</a>
                <a href="#" class="hover:text-white transition-colors">Terms of Service</a>
                <a href="#" class="hover:text-white transition-colors">Shipping Policy</a>
                <a href="#" class="hover:text-white transition-colors">Refund Policy</a>
            </div>
        </div>
    </div>
</footer>
<script>
// Main JavaScript file for E-commerce Website 
// This includes cart functionality, product filtering, form validation,
// payment processing, animations, and local database interactions

// ======== UTILITY FUNCTIONS ========

/**
 * Format price with currency symbol
 * @param {number} price - Price to format
 * @returns {string} Formatted price
 */
function formatPrice(price) {
  return '$' + parseFloat(price).toFixed(2);
}

/**
 * Generate a unique ID
 * @returns {string} Unique ID
 */
function generateUniqueId() {
  return Date.now().toString(36) + Math.random().toString(36).substr(2, 5);
}

/**
 * Show notification message
 * @param {string} message - Message to display
 * @param {string} type - Type of notification (success, error, info)
 */
function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `notification notification-${type}`;
  notification.innerHTML = `
    <p>${message}</p>
    <button class="notification-close">&times;</button>
  `;
  
  document.body.appendChild(notification);
  
  // Add animation
  setTimeout(() => {
    notification.classList.add('show');
  }, 10);
  
  // Auto dismiss after 5 seconds
  setTimeout(() => {
    dismissNotification(notification);
  }, 5000);
  
  // Add click event for close button
  notification.querySelector('.notification-close').addEventListener('click', () => {
    dismissNotification(notification);
  });
}

/**
 * Dismiss notification with animation
 * @param {HTMLElement} notification - Notification element to dismiss
 */
function dismissNotification(notification) {
  notification.classList.remove('show');
  notification.classList.add('hide');
  setTimeout(() => {
    if (notification.parentNode) {
      notification.parentNode.removeChild(notification);
    }
  }, 300);
}

// ======== PRODUCT CATALOG ========

class ProductCatalog {
  constructor() {
    this.products = [];
    this.filteredProducts = [];
    this.currentPage = 1;
    this.productsPerPage = 12;
    this.sortOption = 'featured';
    this.filterOptions = {
      category: [],
      priceRange: { min: 0, max: Infinity },
      rating: 0,
      inStock: false
    };
    
    this.init();
  }
  
  async init() {
    await this.loadProducts();
    this.renderProducts();
    this.setupEventListeners();
  }
  
  async loadProducts() {
    try {
      // In a real implementation, this would fetch from your database
      // For now, we'll use mock data from localStorage if available
      const storedProducts = localStorage.getItem('products');
      
      if (storedProducts) {
        this.products = JSON.parse(storedProducts);
      } else {
        // If no stored products, we'd normally fetch from a server
        // For demo purposes, we'll create some dummy products
        this.products = this.generateDummyProducts();
        localStorage.setItem('products', JSON.stringify(this.products));
      }
      
      this.filteredProducts = [...this.products];
    } catch (error) {
      console.error('Error loading products:', error);
      showNotification('Failed to load products. Please try again later.', 'error');
    }
  }
  
  generateDummyProducts() {
    const categories = ['Electronics', 'Clothing', 'Home', 'Beauty', 'Sports'];
    const dummyProducts = [];
    
    for (let i = 1; i <= 50; i++) {
      const categoryIndex = Math.floor(Math.random() * categories.length);
      const price = (Math.random() * 200 + 10).toFixed(2);
      const rating = (Math.random() * 4 + 1).toFixed(1);
      
      dummyProducts.push({
        id: 'prod-' + i,
        name: `Product ${i}`,
        description: `This is a sample description for product ${i}. It's a great product with many features.`,
        price: parseFloat(price),
        category: categories[categoryIndex],
        imageUrl: `https://via.placeholder.com/300x300?text=Product+${i}`,
        rating: parseFloat(rating),
        stock: Math.floor(Math.random() * 50),
        featured: Math.random() > 0.7
      });
    }
    
    return dummyProducts;
  }
  
  renderProducts() {
    const productContainer = document.getElementById('product-grid');
    if (!productContainer) return;
    
    // Calculate pagination
    const startIndex = (this.currentPage - 1) * this.productsPerPage;
    const endIndex = startIndex + this.productsPerPage;
    const productsToShow = this.filteredProducts.slice(startIndex, endIndex);
    
    // Clear current products
    productContainer.innerHTML = '';
    
    if (productsToShow.length === 0) {
      productContainer.innerHTML = `
        <div class="no-products">
          <h3>No products found</h3>
          <p>Try adjusting your filters or search criteria.</p>
        </div>
      `;
      return;
    }
    
    // Render each product
    productsToShow.forEach(product => {
      const productCard = document.createElement('div');
      productCard.className = 'product-card';
      productCard.dataset.productId = product.id;
      
      productCard.innerHTML = `
        <div class="product-image">
          <img src="${product.imageUrl}" alt="${product.name}" loading="lazy">
          ${product.featured ? '<span class="badge badge-featured">Featured</span>' : ''}
          ${product.stock < 5 && product.stock > 0 ? '<span class="badge badge-limited">Limited Stock</span>' : ''}
          ${product.stock === 0 ? '<span class="badge badge-sold-out">Sold Out</span>' : ''}
        </div>
        <div class="product-info">
          <h3 class="product-name">${product.name}</h3>
          <div class="product-category">${product.category}</div>
          <div class="product-rating">
            ${this.generateStarRating(product.rating)}
            <span class="rating-number">(${product.rating})</span>
          </div>
          <div class="product-price">${formatPrice(product.price)}</div>
        </div>
        <div class="product-actions">
          <button class="btn btn-primary add-to-cart-btn" 
            ${product.stock === 0 ? 'disabled' : ''}>
            ${product.stock === 0 ? 'Out of Stock' : 'Add to Cart'}
          </button>
          <button class="btn btn-secondary quick-view-btn">Quick View</button>
        </div>
      `;
      
      productContainer.appendChild(productCard);
      
      // Add hover effect with animation
      productCard.addEventListener('mouseenter', function() {
        this.classList.add('product-card-hover');
      });
      
      productCard.addEventListener('mouseleave', function() {
        this.classList.remove('product-card-hover');
      });
    });
    
    // Setup event listeners for the newly created products
    this.setupProductEventListeners();
    
    // Update pagination
    this.updatePagination();
  }
  
  generateStarRating(rating) {
    const fullStars = Math.floor(rating);
    const halfStar = rating % 1 >= 0.5;
    const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
    
    let starsHtml = '';
    
    // Full stars
    for (let i = 0; i < fullStars; i++) {
      starsHtml += '<span class="star star-full">â˜…</span>';
    }
    
    // Half star
    if (halfStar) {
      starsHtml += '<span class="star star-half">â˜…</span>';
    }
    
    // Empty stars
    for (let i = 0; i < emptyStars; i++) {
      starsHtml += '<span class="star star-empty">â˜†</span>';
    }
    
    return starsHtml;
  }
  
  updatePagination() {
    const paginationContainer = document.getElementById('pagination');
    if (!paginationContainer) return;
    
    const totalPages = Math.ceil(this.filteredProducts.length / this.productsPerPage);
    
    paginationContainer.innerHTML = '';
    
    // Previous button
    const prevBtn = document.createElement('button');
    prevBtn.className = 'pagination-btn prev-btn';
    prevBtn.innerHTML = '&laquo; Previous';
    prevBtn.disabled = this.currentPage === 1;
    paginationContainer.appendChild(prevBtn);
    
    // Page numbers
    const startPage = Math.max(1, this.currentPage - 2);
    const endPage = Math.min(totalPages, startPage + 4);
    
    for (let i = startPage; i <= endPage; i++) {
      const pageBtn = document.createElement('button');
      pageBtn.className = `pagination-btn page-btn ${i === this.currentPage ? 'active' : ''}`;
      pageBtn.textContent = i;
      pageBtn.dataset.page = i;
      paginationContainer.appendChild(pageBtn);
    }
    
    // Next button
    const nextBtn = document.createElement('button');
    nextBtn.className = 'pagination-btn next-btn';
    nextBtn.innerHTML = 'Next &raquo;';
    nextBtn.disabled = this.currentPage === totalPages;
    paginationContainer.appendChild(nextBtn);
    
    // Event listeners
    prevBtn.addEventListener('click', () => {
      if (this.currentPage > 1) {
        this.currentPage--;
        this.renderProducts();
        // Scroll to top of product grid
        document.getElementById('product-grid').scrollIntoView({ behavior: 'smooth' });
      }
    });
    
    nextBtn.addEventListener('click', () => {
      if (this.currentPage < totalPages) {
        this.currentPage++;
        this.renderProducts();
        // Scroll to top of product grid
        document.getElementById('product-grid').scrollIntoView({ behavior: 'smooth' });
      }
    });
    
    document.querySelectorAll('.page-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        this.currentPage = parseInt(e.target.dataset.page);
        this.renderProducts();
        // Scroll to top of product grid
        document.getElementById('product-grid').scrollIntoView({ behavior: 'smooth' });
      });
    });
  }
  
  setupEventListeners() {
    // Search functionality
    const searchInput = document.getElementById('search-input');
    if (searchInput) {
      searchInput.addEventListener('input', this.debounce(() => {
        this.filterProducts();
      }, 300));
    }
    
    // Sort functionality
    const sortSelect = document.getElementById('sort-select');
    if (sortSelect) {
      sortSelect.addEventListener('change', () => {
        this.sortOption = sortSelect.value;
        this.sortProducts();
        this.renderProducts();
      });
    }
    
    // Category filters
    const categoryFilters = document.querySelectorAll('.category-filter');
    if (categoryFilters.length) {
      categoryFilters.forEach(filter => {
        filter.addEventListener('change', () => {
          this.updateFilterOptions();
          this.filterProducts();
        });
      });
    }
    
    // Price range filter
    const priceMin = document.getElementById('price-min');
    const priceMax = document.getElementById('price-max');
    if (priceMin && priceMax) {
      priceMin.addEventListener('change', () => {
        this.updateFilterOptions();
        this.filterProducts();
      });
      
      priceMax.addEventListener('change', () => {
        this.updateFilterOptions();
        this.filterProducts();
      });
    }
    
    // Rating filter
    const ratingFilter = document.getElementById('rating-filter');
    if (ratingFilter) {
      ratingFilter.addEventListener('change', () => {
        this.updateFilterOptions();
        this.filterProducts();
      });
    }
    
    // In-stock filter
    const inStockFilter = document.getElementById('in-stock-filter');
    if (inStockFilter) {
      inStockFilter.addEventListener('change', () => {
        this.updateFilterOptions();
        this.filterProducts();
      });
    }
    
    // Reset filters
    const resetFiltersBtn = document.getElementById('reset-filters');
    if (resetFiltersBtn) {
      resetFiltersBtn.addEventListener('click', () => {
        this.resetFilters();
      });
    }
  }
  
  setupProductEventListeners() {
    // Add to cart button
    document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const productCard = e.target.closest('.product-card');
        const productId = productCard.dataset.productId;
        const product = this.products.find(p => p.id === productId);
        
        if (product && product.stock > 0) {
          shoppingCart.addItem(product, 1);
          
          // Add animation effect
          const productImage = productCard.querySelector('.product-image img');
          this.animateAddToCart(productImage);
        }
      });
    });
    
    // Quick view button
    document.querySelectorAll('.quick-view-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const productCard = e.target.closest('.product-card');
        const productId = productCard.dataset.productId;
        const product = this.products.find(p => p.id === productId);
        
        if (product) {
          this.showQuickView(product);
        }
      });
    });
  }
  
  showQuickView(product) {
    // Create modal element
    const modal = document.createElement('div');
    modal.className = 'modal quick-view-modal';
    
    modal.innerHTML = `
      <div class="modal-content">
        <button class="modal-close">&times;</button>
        <div class="quick-view-container">
          <div class="quick-view-image">
            <img src="${product.imageUrl}" alt="${product.name}">
          </div>
          <div class="quick-view-details">
            <h2>${product.name}</h2>
            <div class="product-rating">
              ${this.generateStarRating(product.rating)}
              <span class="rating-number">(${product.rating})</span>
            </div>
            <div class="product-price">${formatPrice(product.price)}</div>
            <div class="product-category"><strong>Category:</strong> ${product.category}</div>
            <div class="product-stock ${product.stock > 0 ? 'in-stock' : 'out-of-stock'}">
              <strong>Availability:</strong> ${product.stock > 0 ? `In Stock (${product.stock} available)` : 'Out of Stock'}
            </div>
            <p class="product-description">${product.description}</p>
            
            <div class="product-actions">
              <div class="quantity-selector">
                <button class="quantity-btn decrease-btn">-</button>
                <input type="number" class="quantity-input" value="1" min="1" max="${product.stock}">
                <button class="quantity-btn increase-btn">+</button>
              </div>
              <button class="btn btn-primary add-to-cart-btn" ${product.stock === 0 ? 'disabled' : ''}>
                ${product.stock === 0 ? 'Out of Stock' : 'Add to Cart'}
              </button>
            </div>
          </div>
        </div>
      </div>
    `;
    
    document.body.appendChild(modal);
    
    // Add animation
    setTimeout(() => {
      modal.classList.add('show');
    }, 10);
    
    // Close button event
    modal.querySelector('.modal-close').addEventListener('click', () => {
      this.closeModal(modal);
    });
    
    // Close when clicking outside the content
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        this.closeModal(modal);
      }
    });
    
    // Quantity selector functionality
    const quantityInput = modal.querySelector('.quantity-input');
    const decreaseBtn = modal.querySelector('.decrease-btn');
    const increaseBtn = modal.querySelector('.increase-btn');
    
    decreaseBtn.addEventListener('click', () => {
      const currentValue = parseInt(quantityInput.value);
      if (currentValue > 1) {
        quantityInput.value = currentValue - 1;
      }
    });
    
    increaseBtn.addEventListener('click', () => {
      const currentValue = parseInt(quantityInput.value);
      if (currentValue < product.stock) {
        quantityInput.value = currentValue + 1;
      }
    });
    
    // Add to cart functionality
    modal.querySelector('.add-to-cart-btn').addEventListener('click', () => {
      if (product.stock > 0) {
        const quantity = parseInt(quantityInput.value);
        shoppingCart.addItem(product, quantity);
        this.closeModal(modal);
      }
    });
  }
  
  closeModal(modal) {
    modal.classList.remove('show');
    modal.classList.add('hide');
    setTimeout(() => {
      if (modal.parentNode) {
        modal.parentNode.removeChild(modal);
      }
    }, 300);
  }
  
  animateAddToCart(productImage) {
    // Create a clone of the product image
    const imgClone = productImage.cloneNode(true);
    const rect = productImage.getBoundingClientRect();
    
    // Get cart icon position
    const cartIcon = document.querySelector('.cart-icon');
    const cartRect = cartIcon ? cartIcon.getBoundingClientRect() : { top: 0, right: 0, bottom: 0, left: 0 };
    
    // Style the clone
    imgClone.style.position = 'fixed';
    imgClone.style.top = rect.top + 'px';
    imgClone.style.left = rect.left + 'px';
    imgClone.style.width = rect.width + 'px';
    imgClone.style.height = rect.height + 'px';
    imgClone.style.opacity = '0.8';
    imgClone.style.zIndex = '1000';
    imgClone.style.transition = 'all 0.8s ease-in-out';
    
    document.body.appendChild(imgClone);
    
    // Start animation after a small delay
    setTimeout(() => {
      imgClone.style.top = cartRect.top + 'px';
      imgClone.style.left = cartRect.left + 'px';
      imgClone.style.width = '30px';
      imgClone.style.height = '30px';
      imgClone.style.opacity = '0.2';
    }, 10);
    
    // Remove the clone after animation completes
    setTimeout(() => {
      if (imgClone.parentNode) {
        imgClone.parentNode.removeChild(imgClone);
      }
      
      // Animate cart icon
      if (cartIcon) {
        cartIcon.classList.add('cart-icon-bounce');
        setTimeout(() => {
          cartIcon.classList.remove('cart-icon-bounce');
        }, 500);
      }
    }, 800);
  }
  
  updateFilterOptions() {
    // Get category filters
    const categoryCheckboxes = document.querySelectorAll('.category-filter:checked');
    this.filterOptions.category = Array.from(categoryCheckboxes).map(cb => cb.value);
    
    // Get price range
    const priceMin = document.getElementById('price-min');
    const priceMax = document.getElementById('price-max');
    this.filterOptions.priceRange.min = priceMin && priceMin.value ? parseFloat(priceMin.value) : 0;
    this.filterOptions.priceRange.max = priceMax && priceMax.value ? parseFloat(priceMax.value) : Infinity;
    
    // Get rating
    const ratingFilter = document.getElementById('rating-filter');
    this.filterOptions.rating = ratingFilter ? parseFloat(ratingFilter.value) : 0;
    
    // Get in-stock filter
    const inStockFilter = document.getElementById('in-stock-filter');
    this.filterOptions.inStock = inStockFilter ? inStockFilter.checked : false;
  }
  
  filterProducts() {
    const searchTerm = document.getElementById('search-input')?.value?.toLowerCase() || '';
    
    this.filteredProducts = this.products.filter(product => {
      // Search filter
      const matchesSearch = searchTerm === '' || 
                           product.name.toLowerCase().includes(searchTerm) ||
                           product.description.toLowerCase().includes(searchTerm) ||
                           product.category.toLowerCase().includes(searchTerm);
      
      // Category filter
      const matchesCategory = this.filterOptions.category.length === 0 || 
                             this.filterOptions.category.includes(product.category);
      
      // Price filter
      const matchesPrice = product.price >= this.filterOptions.priceRange.min && 
                          product.price <= this.filterOptions.priceRange.max;
      
      // Rating filter
      const matchesRating = product.rating >= this.filterOptions.rating;
      
      // In-stock filter
      const matchesStock = !this.filterOptions.inStock || product.stock > 0;
      
      return matchesSearch && matchesCategory && matchesPrice && matchesRating && matchesStock;
    });
    
    // Reset to first page
    this.currentPage = 1;
    
    // Sort products
    this.sortProducts();
    
    // Re-render
    this.renderProducts();
    
    // Update filter UI
    this.updateFilterUI();
  }
  
  sortProducts() {
    switch (this.sortOption) {
      case 'price-low-high':
        this.filteredProducts.sort((a, b) => a.price - b.price);
        break;
      case 'price-high-low':
        this.filteredProducts.sort((a, b) => b.price - a.price);
        break;
      case 'rating':
        this.filteredProducts.sort((a, b) => b.rating - a.rating);
        break;
      case 'name-az':
        this.filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
        break;
      case 'name-za':
        this.filteredProducts.sort((a, b) => b.name.localeCompare(a.name));
        break;
      case 'featured':
      default:
        this.filteredProducts.sort((a, b) => {
          if (a.featured && !b.featured) return -1;
          if (!a.featured && b.featured) return 1;
          return 0;
        });
    }
  }
  
  updateFilterUI() {
    const filterResultsCount = document.getElementById('filter-results-count');
    if (filterResultsCount) {
      filterResultsCount.textContent = this.filteredProducts.length;
    }
    
    // Update any other filter UI elements here
  }
  
  resetFilters() {
    // Reset search input
    const searchInput = document.getElementById('search-input');
    if (searchInput) {
      searchInput.value = '';
    }
    
    // Reset category filters
    const categoryFilters = document.querySelectorAll('.category-filter');
    if (categoryFilters.length) {
      categoryFilters.forEach(filter => {
        filter.checked = false;
      });
    }
    
    // Reset price range
    const priceMin = document.getElementById('price-min');
    const priceMax = document.getElementById('price-max');
    if (priceMin) priceMin.value = '';
    if (priceMax) priceMax.value = '';
    
    // Reset rating filter
    const ratingFilter = document.getElementById('rating-filter');
    if (ratingFilter) {
      ratingFilter.value = '0';
    }
    
    // Reset in-stock filter
    const inStockFilter = document.getElementById('in-stock-filter');
    if (inStockFilter) {
      inStockFilter.checked = false;
    }
    
    // Reset filter options
    this.filterOptions = {
      category: [],
      priceRange: { min: 0, max: Infinity },
      rating: 0,
      inStock: false
    };
    
    // Reset sort option
    const sortSelect = document.getElementById('sort-select');
    if (sortSelect) {
      sortSelect.value = 'featured';
      this.sortOption = 'featured';
    }
    
    // Reset filtered products
    this.filteredProducts = [...this.products];
    this.currentPage = 1;
    
    // Re-sort and render
    this.sortProducts();
    this.renderProducts();
    this.updateFilterUI();
  }
  
  // Helper function to debounce inputs
  debounce(func, delay) {
    let timeout;
    return function() {
      const context = this;
      const args = arguments;
      clearTimeout(timeout);
      timeout = setTimeout(() => func.apply(context, args), delay);
    };
  }
}

// ======== SHOPPING CART ========

class ShoppingCart {
  constructor() {
    this.items = [];
    this.isOpen = false;
    this.init();
  }
  
  init() {
    this.loadCart();
    this.renderCartIcon();
    this.renderCartDrawer();
    this.setupEventListeners();
  }
  
  loadCart() {
    const storedCart = localStorage.getItem('cart');
    if (storedCart) {
      this.items = JSON.parse(storedCart);
    }
  }
  
  saveCart() {
    localStorage.setItem('cart', JSON.stringify(this.items));
  }
  
  renderCartIcon() {
    const headerCart = document.querySelector('.header-cart');
    if (!headerCart) return;
    
    headerCart.innerHTML = `
      <div class="cart-icon">
        <i class="fa fa-shopping-cart"></i>
        <span class="cart-count">${this.getTotalQuantity()}</span>
      </div>
    `;
  }
  
  renderCartDrawer() {
    // Create cart drawer if it doesn't exist
    let cartDrawer = document.querySelector('.cart-drawer');
    
    if (!cartDrawer) {
      cartDrawer = document.createElement('div');
      cartDrawer.className = 'cart-drawer';
      document.body.appendChild(cartDrawer);
    }
    
    // Determine subtotal
    const subtotal = this.items.reduce((total, item) => {
      return total + (item.price * item.quantity);
    }, 0);
    
    cartDrawer.innerHTML = `
      <div class="cart-drawer-content">
        <div class="cart-header">
          <h3>Your Cart (${this.getTotalQuantity()})</h3>
          <button class="cart-close">&times;</button>
        </div>
        
        <div class="cart-items">
          ${this.items.length === 0 ? 
            '<div class="empty-cart"><p>Your cart is empty</p><button class="btn btn-primary continue-shopping">Continue Shopping</button></div>' : 
            this.renderCartItems()}
        </div>
        
        ${this.items.length === 0 ? '' : `
          <div class="cart-footer">
            <div class="cart-subtotal">
              <span>Subtotal:</span>
              <span>${formatPrice(subtotal)}</span>
            </div>
            <p class="cart-tax-note">Taxes and shipping calculated at checkout</p>
            <button class="btn btn-primary checkout-btn">Checkout</button>
            <button class="btn btn-secondary continue-shopping">Continue Shopping</button>
          </div>
        `}
      </div>
    `;
    
    // Setup event listeners for cart drawer
    cartDrawer.querySelector('.cart-close').addEventListener('click', () => {
      this.closeCart();
    });
    
    cartDrawer.querySelectorAll('.continue-shopping').forEach(btn => {
      btn.addEventListener('click', () => {
        this.closeCart();
      });
    });
    
    // Setup checkout button
    const checkoutBtn = cartDrawer.querySelector('.checkout-btn');
    if (checkoutBtn) {
      checkoutBtn.addEventListener('click', () => {
        this.proceedToCheckout();
      });
    }
    
    // Setup item quantity and remove buttons
    this.setupCartItemEvents();
  }
  
  renderCartItems() {
    return this.items.map(item => `
      <div class="cart-item" data-product-id="${item.id}">
        <div class="cart-item-image">
          <img src="${item.imageUrl}" alt="${item.name}">
        </div>
        <div class="cart-item-details">
          <div class="cart-item-name">${item.name}</div>
          <div class="cart-item-price">${formatPrice(item.price)}</div>
          <div class="cart-item-controls">
            <div class="quantity-selector">
              <button class="quantity-btn decrease-btn">-</button>
              <input type="number" class="quantity-input" value="${item.quantity}" min="1" max="${item.stock}">
              <button class="quantity-btn increase-btn">+</button>
            </div>
            <button class="remove-item-btn">Remove</button>
          </div>
        </div>
        <div class="cart-item-total">
          ${formatPrice(item.price * item.quantity)}
        </div>
      </div>
    `).join('');
  }
  
  setupCartItemEvents() {
    const cartDrawer = document.querySelector('.cart-drawer');
    if (!cartDrawer) return;
    
    // Quantity decrease buttons
    cartDrawer.querySelectorAll('.decrease-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const cartItem = e.target.closest('.cart-item');
        const productId = cartItem.dataset.productId;
        const quantityInput = cartItem.querySelector('.quantity-input');
        const currentValue = parseInt(quantityInput.value);
        
        if (currentValue > 1) {
          quantityInput.value = currentValue - 1;
          this.updateItemQuantity(productId, currentValue - 1);
        }
      });
    });
    
    // Quantity increase buttons
    cartDrawer.querySelectorAll('.increase-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const cartItem = e.target.closest('.cart-item');
        const productId = cartItem.dataset.productId;
        const quantityInput = cartItem.querySelector('.quantity-input');
        const currentValue = parseInt(quantityInput.value);
        const item = this.items.find(i => i.id === productId);
        
        if (currentValue < item.stock) {
            quantityInput.value = currentValue + 1;
          this.updateItemQuantity(productId, currentValue + 1);
        }
      });
    });
    
    // Quantity input changes
    cartDrawer.querySelectorAll('.quantity-input').forEach(input => {
      input.addEventListener('change', (e) => {
        const cartItem = e.target.closest('.cart-item');
        const productId = cartItem.dataset.productId;
        let newValue = parseInt(e.target.value);
        const item = this.items.find(i => i.id === productId);
        
        // Validate input
        if (isNaN(newValue) || newValue < 1) {
          newValue = 1;
          e.target.value = 1;
        } else if (newValue > item.stock) {
          newValue = item.stock;
          e.target.value = item.stock;
        }
        
        this.updateItemQuantity(productId, newValue);
      });
    });
    
    // Remove item buttons
    cartDrawer.querySelectorAll('.remove-item-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const cartItem = e.target.closest('.cart-item');
        const productId = cartItem.dataset.productId;
        
        // Add a fade-out animation
        cartItem.classList.add('cart-item-removing');
        
        // Remove the item after animation
        setTimeout(() => {
          this.removeItem(productId);
        }, 300);
      });
    });
  }
  
  setupEventListeners() {
    // Cart icon click
    document.addEventListener('click', (e) => {
      const cartIcon = e.target.closest('.cart-icon');
      if (cartIcon) {
        this.toggleCart();
      }
    });
    
    // Close cart when clicking outside
    document.addEventListener('click', (e) => {
      const cartDrawer = document.querySelector('.cart-drawer');
      const cartIcon = document.querySelector('.cart-icon');
      
      if (this.isOpen && 
          !e.target.closest('.cart-drawer-content') && 
          !e.target.closest('.cart-icon')) {
        this.closeCart();
      }
    });
  }
  
  toggleCart() {
    if (this.isOpen) {
      this.closeCart();
    } else {
      this.openCart();
    }
  }
  
  openCart() {
    const cartDrawer = document.querySelector('.cart-drawer');
    if (!cartDrawer) return;
    
    cartDrawer.classList.add('open');
    this.isOpen = true;
    
    // Disable page scrolling
    document.body.classList.add('cart-open');
  }
  
  closeCart() {
    const cartDrawer = document.querySelector('.cart-drawer');
    if (!cartDrawer) return;
    
    cartDrawer.classList.remove('open');
    this.isOpen = false;
    
    // Re-enable page scrolling
    document.body.classList.remove('cart-open');
  }
  
  addItem(product, quantity = 1) {
    // Check if item already exists
    const existingItem = this.items.find(item => item.id === product.id);
    
    if (existingItem) {
      // Update quantity if exists
      const newQuantity = Math.min(existingItem.quantity + quantity, product.stock);
      existingItem.quantity = newQuantity;
      
      // Show notification
      showNotification(`Updated ${product.name} quantity to ${newQuantity}`, 'success');
    } else {
      // Add new item
      this.items.push({
        id: product.id,
        name: product.name,
        price: product.price,
        imageUrl: product.imageUrl,
        quantity: quantity,
        stock: product.stock
      });
      
      // Show notification
      showNotification(`Added ${product.name} to cart`, 'success');
    }
    
    // Save and update UI
    this.saveCart();
    this.renderCartIcon();
    this.renderCartDrawer();
    
    // Open cart drawer
    this.openCart();
  }
  
  updateItemQuantity(productId, quantity) {
    const item = this.items.find(item => item.id === productId);
    if (item) {
      item.quantity = quantity;
      this.saveCart();
      this.renderCartIcon();
      this.renderCartDrawer();
    }
  }
  
  removeItem(productId) {
    const itemIndex = this.items.findIndex(item => item.id === productId);
    if (itemIndex !== -1) {
      const itemName = this.items[itemIndex].name;
      this.items.splice(itemIndex, 1);
      this.saveCart();
      this.renderCartIcon();
      this.renderCartDrawer();
      
      // Show notification
      showNotification(`Removed ${itemName} from cart`, 'info');
    }
  }
  
  getTotalQuantity() {
    return this.items.reduce((total, item) => total + item.quantity, 0);
  }
  
  proceedToCheckout() {
    if (this.items.length === 0) {
      showNotification('Your cart is empty. Add items before checking out.', 'error');
      return;
    }
    
    // Close cart drawer
    this.closeCart();
    
    // Navigate to checkout page or open checkout modal
    this.openCheckoutModal();
  }
  
  openCheckoutModal() {
    // Calculate cart totals
    const subtotal = this.items.reduce((total, item) => total + (item.price * item.quantity), 0);
    const tax = subtotal * 0.07; // Assume 7% tax rate
    const shipping = subtotal > 100 ? 0 : 10; // Free shipping over $100
    const total = subtotal + tax + shipping;
    
    // Create modal element
    const modal = document.createElement('div');
    modal.className = 'modal checkout-modal';
    
    modal.innerHTML = `
      <div class="modal-content checkout-content">
        <button class="modal-close">&times;</button>
        <div class="checkout-container">
          <h2>Checkout</h2>
          
          <div class="checkout-sections">
            <div class="checkout-form">
              <div class="form-section">
                <h3>Contact Information</h3>
                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" id="email" class="form-control" required>
                </div>
              </div>
              
              <div class="form-section">
                <h3>Shipping Address</h3>
                <div class="form-row">
                  <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" id="firstName" class="form-control" required>
                  </div>
                  <div class="form-group">
                    <label for="lastName">Last Name</label>
                    <input type="text" id="lastName" class="form-control" required>
                  </div>
                </div>
                <div class="form-group">
                  <label for="address">Address</label>
                  <input type="text" id="address" class="form-control" required>
                </div>
                <div class="form-group">
                  <label for="apartment">Apartment, suite, etc. (optional)</label>
                  <input type="text" id="apartment" class="form-control">
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" id="city" class="form-control" required>
                  </div>
                  <div class="form-group">
                    <label for="state">State</label>
                    <select id="state" class="form-control" required>
                      <option value="">Select State</option>
                      <option value="AL">Alabama</option>
                      <option value="AK">Alaska</option>
                      <!-- More states would be added here -->
                      <option value="WY">Wyoming</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="zip">ZIP Code</label>
                    <input type="text" id="zip" class="form-control" required>
                  </div>
                </div>
              </div>
              
              <div class="form-section">
                <h3>Payment</h3>
                <div class="payment-options">
                  <div class="payment-option">
                    <input type="radio" id="creditCard" name="paymentMethod" value="creditCard" checked>
                    <label for="creditCard">Credit Card</label>
                  </div>
                  <div class="payment-option">
                    <input type="radio" id="paypal" name="paymentMethod" value="paypal">
                    <label for="paypal">PayPal</label>
                  </div>
                </div>
                
                <div id="creditCardForm" class="payment-form">
                  <div class="form-group">
                    <label for="cardNumber">Card Number</label>
                    <input type="text" id="cardNumber" class="form-control" placeholder="XXXX XXXX XXXX XXXX" required>
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="expDate">Expiration Date</label>
                      <input type="text" id="expDate" class="form-control" placeholder="MM/YY" required>
                    </div>
                    <div class="form-group">
                      <label for="cvv">CVV</label>
                      <input type="text" id="cvv" class="form-control" required>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="cardName">Name on Card</label>
                    <input type="text" id="cardName" class="form-control" required>
                  </div>
                </div>
                
                <div id="paypalForm" class="payment-form" style="display: none;">
                  <p>You will be redirected to PayPal to complete your payment.</p>
                </div>
              </div>
            </div>
            
            <div class="checkout-summary">
              <h3>Order Summary</h3>
              <div class="summary-items">
                ${this.items.map(item => `
                  <div class="summary-item">
                    <div class="summary-item-image">
                      <img src="${item.imageUrl}" alt="${item.name}">
                      <span class="summary-item-quantity">${item.quantity}</span>
                    </div>
                    <div class="summary-item-details">
                      <div class="summary-item-name">${item.name}</div>
                      <div class="summary-item-price">${formatPrice(item.price * item.quantity)}</div>
                    </div>
                  </div>
                `).join('')}
              </div>
              
              <div class="summary-totals">
                <div class="summary-row">
                  <span>Subtotal</span>
                  <span>${formatPrice(subtotal)}</span>
                </div>
                <div class="summary-row">
                  <span>Shipping</span>
                  <span>${shipping === 0 ? 'Free' : formatPrice(shipping)}</span>
                </div>
                <div class="summary-row">
                  <span>Tax (7%)</span>
                  <span>${formatPrice(tax)}</span>
                </div>
                <div class="summary-row total">
                  <span>Total</span>
                  <span>${formatPrice(total)}</span>
                </div>
              </div>
              
              <button id="placeOrderBtn" class="btn btn-primary place-order-btn">Place Order</button>
            </div>
          </div>
        </div>
      </div>
    `;
    
    document.body.appendChild(modal);
    
    // Add animation
    setTimeout(() => {
      modal.classList.add('show');
    }, 10);
    
    // Close button event
    modal.querySelector('.modal-close').addEventListener('click', () => {
      this.closeModal(modal);
    });
    
    // Close when clicking outside the content
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        this.closeModal(modal);
      }
    });
    
    // Toggle payment methods
    const creditCardRadio = modal.querySelector('#creditCard');
    const paypalRadio = modal.querySelector('#paypal');
    const creditCardForm = modal.querySelector('#creditCardForm');
    const paypalForm = modal.querySelector('#paypalForm');
    
    creditCardRadio.addEventListener('change', () => {
      if (creditCardRadio.checked) {
        creditCardForm.style.display = 'block';
        paypalForm.style.display = 'none';
      }
    });
    
    paypalRadio.addEventListener('change', () => {
      if (paypalRadio.checked) {
        creditCardForm.style.display = 'none';
        paypalForm.style.display = 'block';
      }
    });
    
    // Form validation and submission
    const checkoutForm = modal.querySelector('.checkout-form');
    const placeOrderBtn = modal.querySelector('#placeOrderBtn');
    
    placeOrderBtn.addEventListener('click', () => {
      if (this.validateCheckoutForm(checkoutForm)) {
        this.processOrder();
        this.closeModal(modal);
      }
    });
    
    // Add input validation
    this.setupFormValidation(modal);
  }
  
  closeModal(modal) {
    modal.classList.remove('show');
    modal.classList.add('hide');
    setTimeout(() => {
      if (modal.parentNode) {
        modal.parentNode.removeChild(modal);
      }
    }, 300);
  }
  
  setupFormValidation(modal) {
    // Credit card number formatting and validation
    const cardNumberInput = modal.querySelector('#cardNumber');
    cardNumberInput.addEventListener('input', (e) => {
      // Remove non-digit characters
      let value = e.target.value.replace(/\D/g, '');
      
      // Add spaces after every 4 digits
      value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
      
      // Limit to 16 digits (19 characters with spaces)
      value = value.substring(0, 19);
      
      e.target.value = value;
    });
    
    // Expiration date formatting (MM/YY)
    const expDateInput = modal.querySelector('#expDate');
    expDateInput.addEventListener('input', (e) => {
      // Remove non-digit characters
      let value = e.target.value.replace(/\D/g, '');
      
      // Add slash after 2 digits (MM/YY format)
      if (value.length > 2) {
        value = value.substring(0, 2) + '/' + value.substring(2);
      }
      
      // Limit to 4 digits (5 characters with slash)
      value = value.substring(0, 5);
      
      e.target.value = value;
    });
    
    // CVV validation (numbers only, max 4 digits)
    const cvvInput = modal.querySelector('#cvv');
    cvvInput.addEventListener('input', (e) => {
      // Remove non-digit characters and limit to 4 digits
      e.target.value = e.target.value.replace(/\D/g, '').substring(0, 4);
    });
    
    // ZIP code validation (numbers only, max 5 digits)
    const zipInput = modal.querySelector('#zip');
    zipInput.addEventListener('input', (e) => {
      // Remove non-digit characters and limit to 5 digits
      e.target.value = e.target.value.replace(/\D/g, '').substring(0, 5);
    });
  }
  
  validateCheckoutForm(form) {
    // Get form inputs
    const requiredInputs = form.querySelectorAll('[required]');
    let isValid = true;
    
    // Remove any existing error messages
    form.querySelectorAll('.error-message').forEach(el => el.remove());
    
    // Check each required field
    requiredInputs.forEach(input => {
      input.classList.remove('error');
      
      if (!input.value.trim()) {
        this.addErrorToInput(input, 'This field is required');
        isValid = false;
      } else {
        // Validate specific fields
        if (input.id === 'email' && !this.isValidEmail(input.value)) {
          this.addErrorToInput(input, 'Please enter a valid email address');
          isValid = false;
        }
        
        if (input.id === 'cardNumber' && !this.isValidCardNumber(input.value)) {
          this.addErrorToInput(input, 'Please enter a valid credit card number');
          isValid = false;
        }
        
        if (input.id === 'expDate' && !this.isValidExpDate(input.value)) {
          this.addErrorToInput(input, 'Please enter a valid expiration date (MM/YY)');
          isValid = false;
        }
        
        if (input.id === 'cvv' && !this.isValidCVV(input.value)) {
          this.addErrorToInput(input, 'Please enter a valid CVV (3-4 digits)');
          isValid = false;
        }
        
        if (input.id === 'zip' && !this.isValidZip(input.value)) {
          this.addErrorToInput(input, 'Please enter a valid 5-digit ZIP code');
          isValid = false;
        }
      }
    });
    
    return isValid;
  }
  
  addErrorToInput(input, message) {
    input.classList.add('error');
    
    const errorEl = document.createElement('div');
    errorEl.className = 'error-message';
    errorEl.textContent = message;
    
    const formGroup = input.closest('.form-group');
    formGroup.appendChild(errorEl);
  }
  
  isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }
  
  isValidCardNumber(cardNumber) {
    const sanitized = cardNumber.replace(/\s/g, '');
    // Check if it contains only digits and is 13-16 digits long
    return /^\d{13,16}$/.test(sanitized);
  }
  
  isValidExpDate(expDate) {
    if (!/^\d{2}\/\d{2}$/.test(expDate)) {
      return false;
    }
    
    const [month, year] = expDate.split('/');
    const currentDate = new Date();
    const currentYear = currentDate.getFullYear() % 100; // Get last two digits
    const currentMonth = currentDate.getMonth() + 1; // Months are 0-indexed
    
    // Check if month is valid (1-12)
    if (parseInt(month) < 1 || parseInt(month) > 12) {
      return false;
    }
    
    // Check if the expiration date is in the future
    if (parseInt(year) < currentYear || 
        (parseInt(year) === currentYear && parseInt(month) < currentMonth)) {
      return false;
    }
    
    return true;
  }
  
  isValidCVV(cvv) {
    return /^\d{3,4}$/.test(cvv);
  }
  
  isValidZip(zip) {
    return /^\d{5}$/.test(zip);
  }
  
  processOrder() {
    try {
      // In a real implementation, this would:
      // 1. Send the order to the server
      // 2. Process the payment
      // 3. Create order records in the database
      
      // For demo, we'll just clear the cart and show success
      showNotification('Order placed successfully! Thank you for your purchase.', 'success');
      
      // Empty the cart
      this.items = [];
      this.saveCart();
      this.renderCartIcon();
      this.renderCartDrawer();
      
      // Show order confirmation
      this.showOrderConfirmation();
    } catch (error) {
      console.error('Error processing order:', error);
      showNotification('There was a problem processing your order. Please try again.', 'error');
    }
  }
  
  showOrderConfirmation() {
    // Create modal element
    const modal = document.createElement('div');
    modal.className = 'modal order-confirmation-modal';
    
    modal.innerHTML = `
      <div class="modal-content">
        <div class="order-confirmation">
          <div class="order-confirmation-icon">
            <i class="fa fa-check-circle"></i>
          </div>
          <h2>Thank You for Your Order!</h2>
          <p>Your order has been received and is now being processed.</p>
          <p>An order confirmation has been sent to your email.</p>
          <p class="order-number">Order #${generateUniqueId().toUpperCase()}</p>
          <button class="btn btn-primary continue-shopping">Continue Shopping</button>
        </div>
      </div>
    `;
    
    document.body.appendChild(modal);
    
    // Add animation
    setTimeout(() => {
      modal.classList.add('show');
    }, 10);
    
    // Continue shopping button
    modal.querySelector('.continue-shopping').addEventListener('click', () => {
      this.closeModal(modal);
    });
  }
}

// ======== FORM VALIDATION ========

class FormValidator {
  constructor() {
    this.init();
  }
  
  init() {
    this.setupContactForm();
    this.setupNewsletterForm();
    this.setupAccountForms();
  }
  
  setupContactForm() {
    const contactForm = document.getElementById('contact-form');
    if (!contactForm) return;
    
    contactForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      if (this.validateForm(contactForm)) {
        // In a real implementation, this would send the form data to the server
        // For demo, just show success message
        showNotification('Your message has been sent! We\'ll get back to you soon.', 'success');
        contactForm.reset();
      }
    });
  }
  
  setupNewsletterForm() {
    const newsletterForm = document.getElementById('newsletter-form');
    if (!newsletterForm) return;
    
    newsletterForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const emailInput = newsletterForm.querySelector('input[type="email"]');
      if (emailInput && this.isValidEmail(emailInput.value)) {
        // In a real implementation, this would subscribe the email
        // For demo, just show success message
        showNotification('Thanks for subscribing to our newsletter!', 'success');
        newsletterForm.reset();
      } else {
        this.addErrorToInput(emailInput, 'Please enter a valid email address');
      }
    });
  }
  
  setupAccountForms() {
    // Login form
    const loginForm = document.getElementById('login-form');
    if (loginForm) {
      loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        if (this.validateForm(loginForm)) {
          // In a real implementation, this would authenticate the user
          // For demo, just show success message
          showNotification('Login successful!', 'success');
          
          // Redirect to account page or dashboard
          // window.location.href = '/account';
        }
      });
    }
    
    // Register form
    const registerForm = document.getElementById('register-form');
    if (registerForm) {
      registerForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        if (this.validateForm(registerForm)) {
          // In a real implementation, this would create a new user account
          // For demo, just show success message
          showNotification('Account created successfully!', 'success');
          registerForm.reset();
          
          // Redirect to account page or dashboard
          // window.location.href = '/account';
        }
      });
    }
  }
  
  validateForm(form) {
    // Get form inputs
    const requiredInputs = form.querySelectorAll('[required]');
    let isValid = true;
    
    // Remove any existing error messages
    form.querySelectorAll('.error-message').forEach(el => el.remove());
    
    // Check each required field
    requiredInputs.forEach(input => {
      input.classList.remove('error');
      
      if (!input.value.trim()) {
        this.addErrorToInput(input, 'This field is required');
        isValid = false;
      } else {
        // Validate specific input types
        if (input.type === 'email' && !this.isValidEmail(input.value)) {
          this.addErrorToInput(input, 'Please enter a valid email address');
          isValid = false;
        }
        
        if (input.type === 'tel' && !this.isValidPhone(input.value)) {
          this.addErrorToInput(input, 'Please enter a valid phone number');
          isValid = false;
        }
        
        if (input.type === 'password' && input.dataset.validate === 'password') {
          if (!this.isValidPassword(input.value)) {
            this.addErrorToInput(input, 'Password must be at least 8 characters and include a number and a special character');
            isValid = false;
          }
        }
        
        // Check password confirmation
        if (input.dataset.validate === 'password-confirm') {
          const passwordInput = form.querySelector('input[data-validate="password"]');
          if (passwordInput && input.value !== passwordInput.value) {
            this.addErrorToInput(input, 'Passwords do not match');
            isValid = false;
          }
        }
      }
    });
    
    return isValid;
  }
  
  addErrorToInput(input, message) {
    input.classList.add('error');
    
    const errorEl = document.createElement('div');
    errorEl.className = 'error-message';
    errorEl.textContent = message;
    
    const formGroup = input.closest('.form-group');
    if (formGroup) {
      formGroup.appendChild(errorEl);
    } else {
      // If there's no form-group, add after the input
      input.insertAdjacentElement('afterend', errorEl);
    }
  }
  
  isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }
  
  isValidPhone(phone) {
    // Basic phone validation (accepts various formats)
    const phoneRegex = /^[\d\s\-\(\)\.+]+$/;
    return phoneRegex.test(phone) && phone.replace(/\D/g, '').length >= 10;
  }
  
  isValidPassword(password) {
    // Password must be at least 8 characters and include a number and a special character
    const passwordRegex = /^(?=.*\d)(?=.*[!@#$%^&*])[\w!@#$%^&*]{8,}$/;
    return passwordRegex.test(password);
  }
}

// ======== PRODUCT QUICK VIEW ========

class ProductQuickView {
    constructor() {
      this.init();
    }
    
    init() {
      this.setupQuickViewButtons();
    }
    
    setupQuickViewButtons() {
      document.addEventListener('click', (e) => {
        if (e.target.closest('.quick-view-btn')) {
          const productCard = e.target.closest('.product-card');
          if (productCard) {
            const productId = productCard.dataset.productId;
            this.showQuickView(productId);
          }
        }
      });
    }
    
    async showQuickView(productId) {
      try {
        // In a real implementation, this would fetch the product data from the server
        // For demo, we'll get it from localStorage
        const storedProducts = localStorage.getItem('products');
        if (!storedProducts) return;
        
        const products = JSON.parse(storedProducts);
        const product = products.find(p => p.id === productId);
        
        if (!product) return;
        
        // Create modal element
        const modal = document.createElement('div');
        modal.className = 'modal quick-view-modal';
        
        modal.innerHTML = `
          <div class="modal-content">
            <button class="modal-close">&times;</button>
            <div class="quick-view-container">
              <div class="quick-view-image">
                <img src="${product.imageUrl}" alt="${product.name}">
              </div>
              <div class="quick-view-details">
                <h2>${product.name}</h2>
                <div class="product-rating">
                  ${this.generateStarRating(product.rating)}
                  <span class="rating-number">(${product.rating})</span>
                </div>
                <div class="product-price">${formatPrice(product.price)}</div>
                <div class="product-category"><strong>Category:</strong> ${product.category}</div>
                <div class="product-stock ${product.stock > 0 ? 'in-stock' : 'out-of-stock'}">
                  <strong>Availability:</strong> ${product.stock > 0 ? `In Stock (${product.stock} available)` : 'Out of Stock'}
                </div>
                <p class="product-description">${product.description}</p>
                
                <div class="product-actions">
                  <div class="quantity-selector">
                    <button class="quantity-btn decrease-btn">-</button>
                    <input type="number" class="quantity-input" value="1" min="1" max="${product.stock}">
                    <button class="quantity-btn increase-btn">+</button>
                  </div>
                  <button class="btn btn-primary add-to-cart-btn" ${product.stock === 0 ? 'disabled' : ''}>
                    ${product.stock === 0 ? 'Out of Stock' : 'Add to Cart'}
                  </button>
                </div>
              </div>
            </div>
          </div>
        `;
        
        document.body.appendChild(modal);
        
        // Add animation
        setTimeout(() => {
          modal.classList.add('show');
        }, 10);
        
        // Close button event
        modal.querySelector('.modal-close').addEventListener('click', () => {
          this.closeModal(modal);
        });
        
        // Close when clicking outside the content
        modal.addEventListener('click', (e) => {
          if (e.target === modal) {
            this.closeModal(modal);
          }
        });
        
        // Quantity selector functionality
        const quantityInput = modal.querySelector('.quantity-input');
        const decreaseBtn = modal.querySelector('.decrease-btn');
        const increaseBtn = modal.querySelector('.increase-btn');
        
        decreaseBtn.addEventListener('click', () => {
          const currentValue = parseInt(quantityInput.value);
          if (currentValue > 1) {
            quantityInput.value = currentValue - 1;
          }
        });
        
        increaseBtn.addEventListener('click', () => {
          const currentValue = parseInt(quantityInput.value);
          if (currentValue < product.stock) {
            quantityInput.value = currentValue + 1;
          }
        });
        
        // Input validation
        quantityInput.addEventListener('change', () => {
          let value = parseInt(quantityInput.value);
          if (isNaN(value) || value < 1) {
            value = 1;
          } else if (value > product.stock) {
            value = product.stock;
          }
          quantityInput.value = value;
        });
        
        // Add to cart functionality
        const addToCartBtn = modal.querySelector('.add-to-cart-btn');
        addToCartBtn.addEventListener('click', () => {
          if (product.stock > 0) {
            const quantity = parseInt(quantityInput.value);
            this.addToCart(product, quantity);
            this.closeModal(modal);
            this.showAddedToCartNotification(product, quantity);
          }
        });
        
        // Handle ESC key
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            this.closeModal(modal);
          }
        });
        
      } catch (error) {
        console.error('Error showing quick view:', error);
      }
    }
    
    closeModal(modal) {
      modal.classList.remove('show');
      setTimeout(() => {
        modal.remove();
      }, 300); // Wait for animation to complete
    }
    
    generateStarRating(rating) {
      const fullStar = '<i class="fas fa-star"></i>';
      const halfStar = '<i class="fas fa-star-half-alt"></i>';
      const emptyStar = '<i class="far fa-star"></i>';
      
      let stars = '';
      const fullStars = Math.floor(rating);
      const hasHalfStar = rating % 1 >= 0.5;
      
      for (let i = 1; i <= 5; i++) {
        if (i <= fullStars) {
          stars += fullStar;
        } else if (i === fullStars + 1 && hasHalfStar) {
          stars += halfStar;
        } else {
          stars += emptyStar;
        }
      }
      
      return stars;
    }
    
    addToCart(product, quantity) {
      // Get current cart from localStorage
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      
      // Check if product already exists in cart
      const existingItemIndex = cart.findIndex(item => item.id === product.id);
      
      if (existingItemIndex !== -1) {
        // Update quantity if product already in cart
        cart[existingItemIndex].quantity += quantity;
      } else {
        // Add new item to cart
        cart.push({
          id: product.id,
          name: product.name,
          price: product.price,
          imageUrl: product.imageUrl,
          quantity: quantity
        });
      }
      
      // Save updated cart back to localStorage
      localStorage.setItem('cart', JSON.stringify(cart));
      
      // Update cart UI
      this.updateCartUI();
      
      // Update product stock
      this.updateProductStock(product.id, quantity);
    }
    
    updateCartUI() {
      // Get cart data
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      
      // Calculate total items in cart
      const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
      
      // Update cart counter
      const cartCounter = document.querySelector('.cart-counter');
      if (cartCounter) {
        cartCounter.textContent = totalItems;
        if (totalItems > 0) {
          cartCounter.classList.add('active');
        } else {
          cartCounter.classList.remove('active');
        }
      }
      
      // If cart dropdown is open, refresh its content
      const cartDropdown = document.querySelector('.cart-dropdown');
      if (cartDropdown && cartDropdown.classList.contains('show')) {
        // Assuming there's a method to populate cart dropdown
        if (typeof window.shoppingCart !== 'undefined') {
          window.shoppingCart.populateCartDropdown();
        }
      }
    }
    
    updateProductStock(productId, quantity) {
      // Get products from localStorage
      const products = JSON.parse(localStorage.getItem('products')) || [];
      
      // Find the product
      const productIndex = products.findIndex(p => p.id === productId);
      if (productIndex !== -1) {
        // Update stock
        products[productIndex].stock -= quantity;
        
        // Save updated products back to localStorage
        localStorage.setItem('products', JSON.stringify(products));
      }
    }
    
    showAddedToCartNotification(product, quantity) {
      // Create notification element
      const notification = document.createElement('div');
      notification.className = 'toast-notification added-to-cart';
      
      notification.innerHTML = `
        <div class="toast-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="toast-content">
          <h4>Added to cart!</h4>
          <p>${quantity} Ã— ${product.name} has been added to your cart.</p>
        </div>
        <button class="toast-close">&times;</button>
      `;
      
      document.body.appendChild(notification);
      
      // Show notification with animation
      setTimeout(() => {
        notification.classList.add('show');
      }, 10);
      
      // Auto hide after 5 seconds
      setTimeout(() => {
        this.hideNotification(notification);
      }, 5000);
      
      // Close button functionality
      notification.querySelector('.toast-close').addEventListener('click', () => {
        this.hideNotification(notification);
      });
    }
    
    hideNotification(notification) {
      notification.classList.remove('show');
      setTimeout(() => {
        notification.remove();
      }, 300); // Wait for animation to complete
    }
  }
  
  // Helper function for price formatting
  function formatPrice(price) {
    return '$' + price.toFixed(2);
  }
  
  // Initialize ProductQuickView when DOM is ready
  document.addEventListener('DOMContentLoaded', () => {
    window.productQuickView = new ProductQuickView();
  });
  </script>
</body>
</html>